<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Shell脚本基础 | XenoEcho</title><meta name="keywords" content="shell"><meta name="author" content="XenoEcho"><meta name="copyright" content="XenoEcho"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="Shell脚本基础"><meta name="application-name" content="Shell脚本基础"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="Shell脚本基础"><meta property="og:url" content="https://www.xenoecho.us.kg/posts/a6d155fc.html"><meta property="og:site_name" content="XenoEcho"><meta property="og:description" content="脚本解释器与变量脚本文件类似 知道windows下有.bat脚本用来批量执行命令的，那Liunx下呢则是使用.sh脚本来批量执行命令，称为shell脚本   创建脚本的方式很多，只需要保证文件类型为.sh即可  touch 1.sh&amp;#96;&amp;#96;&amp;#96;bashtouch 1.sh   变量的概念 什么是变量？可以"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://imges.xenon.us.kg/20241211/shell.jpg"><meta property="article:author" content="XenoEcho"><meta property="article:tag" content="XenoEcho,blog,信息安全,网络安全,CTF"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://imges.xenon.us.kg/20241211/shell.jpg"><meta name="description" content="脚本解释器与变量脚本文件类似 知道windows下有.bat脚本用来批量执行命令的，那Liunx下呢则是使用.sh脚本来批量执行命令，称为shell脚本   创建脚本的方式很多，只需要保证文件类型为.sh即可  touch 1.sh&amp;#96;&amp;#96;&amp;#96;bashtouch 1.sh   变量的概念 什么是变量？可以"><link rel="shortcut icon" href="/img/ico/favicon.ico"><link rel="canonical" href="https://www.xenoecho.us.kg/posts/a6d155fc.html"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="hhdfFNAR-_4Wkz6BnYp2rSFVlUqk89oWUr6oROCHN8k"/><meta name="msvalidate.01" content="BF6676C212BF7DC2EB79CAD1252E5655"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/css/swiper.min.css" media="print" onload="this.media='all'"><script type="text/javascript">(function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "pammfd1i9a");
</script><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: undefined,
  diytitle: undefined,
  LA51: undefined,
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🦥 懒癌晚期重症患","🎸 疯疯癫癫摇滚迷"]},
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: XenoEcho","link":"链接: ","source":"来源: XenoEcho","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: {"enable":true,"delay":100,"shiftDelay":200},
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'XenoEcho',
  title: 'Shell脚本基础',
  postAI: '',
  pageFillDescription: '脚本解释器与变量, 脚本文件类似, 变量的概念, 引号的概念, 单引号, 双引号, 花括号, 脚本解释器, 系统变量和字符串, 系统变量path, 字符串的概念, 字符串的定义, 字符串的操作, 传参和数值运算, 传参的基本概念, 位置参数, 传参测试, 数值运算, 变量的算数运算, 扩展运算, 用户交互与关系运算符, 用户交互, 基本交互, 提示交互, read全部参数, 菜单交互, 关系逻辑运算, 关系运算符, if条件控制语句, 实例, 字符运算符与逻辑运算符, 字符运算符：, 实例, 逻辑运算符, 实例, for循环与while循环, for循环, 基本语法, 遍历固定元素列表, 遍历数字范围, 遍历命令, (())配合类似C风格, 简单语法, 实例, while循环, 基础语法, 循环输出数字, 终止语句配合使用, 配合|管道符使用, until循环与case判断, until循环, 基本语法, 数值累加, case判断, 基本语法, 根据输入执行相应操作, 封装函数与脚本调用与重定向, 封装函数, 基本语法, 实例, 脚本调用, 重定向操作, 重定向操作符, 文件运算符, 1. 文件存在性和类型测试运算符, 2. 文件比较运算符, 综合实例, 简单的运算, 阶乘运算, 获取指定网络的IPv4地址, 无线重启脚本脚本解释器与变量脚本文件类似知道下有脚本用来批量执行命令的那下呢则是使用脚本来批量执行命令称为脚本创建脚本的方式很多只需要保证文件类型为即可变量的概念什么是变量可以理解为一个盒子里面存放的东西为盒子变量的值在中的变量通常用美元搞提醒操作系统他是个变量如果设置全局变量只需要在设置变量的基础上前面加尝试设置一个临时变量然后用命令输出他记得加上美元符号告诉系统他是一个变量尝试设置一个临时变量然后用命令输出他记得加上美元符号告诉系统他是一个变量引号的概念单引号使用单引号包裹着变量则不会对变量进行解释告诉他里面是什么和赋值将里面的东西输出尝试设置一个变量将变量用单引号括起来尝试设置一个变量将变量用单引号括起来双引号双引号会对其中包含的变量进行解释或替换默认不带符合则为双引号尝试设置一个变量将变量用双引号括起来尝试设置一个变量将变量用双引号括起来花括号花括号在变量主要中用于明确边界条件检索字符串替换和截取尝试设置一个变量正常我们如果要和变量输出的内容进行贴合字符话需要空格而可以使用花括号来明确边界尝试设置一个变量正常我们如果要和变量输出的内容进行贴合字符话需要空格而可以使用花括号来明确边界条件检索为空使用默认值为空使用赋为默认值返回指定变量的值尝试设置一个变量输出一个值为空或者未定义的变量时默认是无输出的但是可以使用花括号来进行设置默认值尝试设置一个变量输出一个值为空或者未定义的变量时默认是无输出的但是可以使用花括号来进行设置默认值脚本解释器都知道下的脚本的解释器是那么下的脚本解释器都有什么呢默认情况下为目录下的具体选择那个都可以也可以注意到的就解释器是软链接到的在脚本执行的开头指定解释器尝试设置一个变量输出尝试设置一个变量输出系统变量和字符串系统变量和系统中都有个全局系统变量名为里面存放了可执行文件的搜索路径多个路径用分隔如果你想将脚本文件可以在系统的各个位置都可以执行话则需要将脚本的路径添加到中临时添加还记得表示保留原有的格式还记得表示保留原有的格式永久添加在原本的基础上添加或者将脚本移动到他变量的路经不建议这里的指引用他原本的变量使用单引号是不解释他变量这里的指引用他原本的变量使用单引号是不解释他变量字符串的概念字符组成的有序序列的一种变量数据类型用于表示文本数据字符串可以包含字母数字空格符号以及其他字符例如标点符号特殊符号等字符串的定义字符串可以受用单双引号或者无引号包裹建议使用引号来避免歧义其实就是一种类型只不过使用引号包裹不仅限于设置变量为字符串输出的内容也可以为字符串但是字符串和变量不是一个道理输出的变量内容为字符串但不能为理解为输出字符串其实就是一种类型只不过使用引号包裹不仅限于设置变量为字符串输出的内容也可以为字符串但是字符串和变量不是一个道理输出的变量内容为字符串但不能为理解为输出字符串字符串的操作输出多个字符串拼接为什么这里使用了花括号避免引用变量产生歧义到了为什么这里使用了花括号避免引用变量产生歧义到了获取字符串长度输出长度是长度是输出长度是长度是截取子字符串输出从开始数第六个截取到第九个输出从开始数第六个截取到第九个查找和替换在变量里面找替换为在变量里面找替换为传参和数值运算传参的基本概念可以让脚本更加灵活地处理外部输入通过位置参数来接收传递给脚本的参数位置参数参数含义脚本的名称传递给脚本的第个参数传递给脚本的第个参数传递给脚本的第个参数以此类推表示传递给脚本的更多参数传递给脚本的参数总数所有的参数参数之间用空格分隔所有的参数参数之间也用空格分隔和类似稍有区别每个参数独立逐行输出每个参数为一个整体横向输出上一条命令的退出状态码当前的运行进程传参测试脚本名称第一个参数第二个参数所有参数所有参数参数总数命令的退出状态命令的退出进程脚本名称第一个参数第二个参数所有参数所有参数参数总数命令的退出状态命令的退出进程数值运算变量的算数运算使用进行一个简单的运算例子使用变量进行实际上能直接套数值加法加法减法减法乘法乘法除法除法取余取余加法加法减法减法乘法乘法除法除法取余取余使用进行算术运算例子使用变量进行实际上能直接套数值运算需要使用空格且需要对运算符进行转义加法加法减法减法乘法为通配符需要使用反斜杠转义乘法除法除法取余取余加法加法减法减法乘法为通配符需要使用反斜杠转义乘法除法除法取余取余扩展运算计算中默认只能整数可配合来进行浮点运算语法表达式浮动点数除法为设置小数点后几位浮动点数除法浮动点数除法为设置小数点后几位浮动点数除法配合的数学库参数来进行得出算数平方根正弦余弦反正弦对数次方正切反余弦反正切次方圆周率浮动点数除法为设置小数点后几位为计算平方根的算数平方根为浮动点数除法为设置小数点后几位为计算平方根的算数平方根为配合的参数运算后不显示提示符即运算后不弹窗用户交互与关系运算符用户交互意味可以过脚本与用户进行输入和输出的交互通过提示用户输入信息并根据用户输入执行相应的操作基本交互通过命令来获取用户输入的参数如读取多个变量则需要使用空格来分隔请输入你的名字和年龄依次将输入的内容赋值给变量你的名字是年龄是请输入你的名字和年龄依次将输入的内容赋值给变量你的名字是年龄是提示交互通过命令来获取用户输入的参数来提供输入前的提示信息请输入你的名字请输入你的年龄你的名字是年龄是请输入你的名字请输入你的年龄你的名字是年龄是全部参数不同参数之间可以配合使用例如设置隐藏输入内容和提示信息可以使用参数说明提示用户输入后面跟提示信息隐藏输入内容常用于输入密码设置超时单位为秒超时后返回非零值设置默认值如果用户没有输入则使用默认值不处理反斜杠转义字符输入会原样保存将输入保存为数组按空格或换行分割读取指定的字符数限制用户输入的字符长度菜单交互基本语法对应的操作对应的操作简单的操作无退出操作只能通过退出显示菜单你要吃什么白米饭红米饭叉烧饭你选择了显示菜单你要吃什么白米饭红米饭叉烧饭你选择了关系逻辑运算关系运算符用于比较两个整数值的大小和相等关系运算符说明示例等于等于不等于不等于大于大于小于小于大于或等于大于或等于小于或等于小于或等于条件控制语句还可配合逻辑与关系运算在之间一定要有空格条件和操作符两边都需要空格条件成立时执行的命令如果第一个条件不成立且第二个条件成立时执行的命令如果上述所有条件都不成立时执行的命令条件成立时执行的命令如果第一个条件不成立且第二个条件成立时执行的命令如果上述所有条件都不成立时执行的命令实例可以删掉在前面空格间隔使用也一样可以输出但不推荐使用判断是否小于为真则输出假则跳出输出小于判断是否小于为真则输出假则跳出输出小于配合菜单使用你要吃什么白米饭红米饭叉烧饭白米饭白白的好吃吗红米饭红红的好吃吗叉烧饭我最爱吃请你吃大嘴巴子退出循环你要吃什么白米饭红米饭叉烧饭白米饭白白的好吃吗红米饭红红的好吃吗叉烧饭我最爱吃请你吃大嘴巴子退出循环字符运算符与逻辑运算符字符运算符运算符说明示例判断两个字符串是否相等判断两个字符串是否不相等判断字符串是否为空判断字符串是否非空判断字符串是否按字典顺序小于另一个字符串仅支持字符比较判断字符串是否按字典顺序大于另一个字符串仅支持字符比较判断两个字符串是否相等适用于中实例判断相等相等不相等相等不相等为空判断不为空空不为空空逻辑运算符运算符说明旧语法不推荐现代语法推荐示例逻辑与只有两个条件都为真时整体为真或逻辑或至少一个条件为真时整体为真逻辑非取反条件条件为真时变假实例逻辑与运算旧语法使用大于且小于条件不成立现代语法使用大于且小于条件不成立旧语法使用大于且小于条件不成立现代语法使用大于且小于条件不成立循环与循环循环基本语法表示当前循环中的变量它将依次取中的每个值可以是一个列表或者是通过命令生成的输出结果开始执行的命令结束开始执行的命令结束遍历固定元素列表方法一不设变量一二三四五六日今天星期一二三四五六日今天星期方法二设置变量定义一个数组一二三四五六日使用循环遍历数组今天星期定义一个数组一二三四五六日使用循环遍历数组今天星期遍历数字范围方法一不设置变量遍历数字范围到间隔为可以不要数字是遍历数字范围到间隔为可以不要数字是方法二通过生成起始值间隔结束值使用生成数字到间隔为数字是使用生成数字到间隔为数字是遍历命令循环和下的命令配合操作使用命令的输出的当作字符串返回日期日期配合循环使用获取使用查找所有文件并通过循环处理输出当前正在处理的文件正在查看文件打开文件内容并输出分隔符使用查找所有文件并通过循环处理输出当前正在处理的文件正在查看文件打开文件内容并输出分隔符配合类似风格里面可以进行简单的算数运算和条件运算另外的命令也可以进行算数运算简单语法初始值条件自变量自变量的值可为每次加代码块初始值条件自变量自变量的值可为每次加代码块实例从到初始值为当小于或等于时就一次然后自增初始值为当小于或等于时就一次然后自增循环基础语法直到条件不成立假时停止运行或者使用循环终止条件需要重复执行的命令直到条件不成立假时停止运行或者使用循环终止条件需要重复执行的命令循环输出数字自增自增终止语句配合使用终止当前循环设置永为真当前值内嵌条件判断等于终止循环当等于时终止循环上方条件不符合进行运算跳出循环设置永为真当前值内嵌条件判断等于终止循环当等于时终止循环上方条件不符合进行运算跳出循环跳出本次循环并回到循环小于则循环除的余等于时执行一次为的倍数跳出本次循环后面语句都的都不执行了重新再执行一次当前值为小于则循环除的余等于时执行一次为的倍数跳出本次循环后面语句都的都不执行了重新再执行一次当前值为配合管道符使用逐行读取输出的内容第行逐行读取输出的内容第行循环与判断循环基本语法当条件不成立才退出当条件不成立才退出数值累加知道满足条件退出循环到的和是知道满足条件退出循环到的和是判断基本语法处理匹配到的情况处理匹配到的情况默认情况下执行的代码处理匹配到的情况处理匹配到的情况默认情况下执行的代码根据输入执行相应操作显示菜单需要执行的操作安装修复卸载安装正在安装中等待两秒修复正在修复中等待两秒卸载正在卸载中等待秒已退出操作关闭脚本显示菜单需要执行的操作安装修复卸载安装正在安装中等待两秒修复正在修复中等待两秒卸载正在卸载中等待秒已退出操作关闭脚本封装函数与脚本调用与重定向封装函数函数封装就是指将一段可重用的代码放入一个函数中并通过函数的参数和返回值来与外部的代码进行交互基本语法传参变量回看封装方法一封装函数传递的参数调用封装函数传递的参数调用封装方法二封装函数传递的参数调用封装函数传递的参数调用实例日志打印定义日志打印函数定义局部变量参参二调用日志函数脚本开始执行文件未找到正在调试模式定义日志打印函数定义局部变量参参二调用日志函数脚本开始执行文件未找到正在调试模式备份文件脚本定义备份函数错误源文件不存在执行备份文件已成功备份到要备份的文件备份的路径调用备份函数定义备份函数错误源文件不存在执行备份文件已成功备份到要备份的文件备份的路径调用备份函数脚本调用用一个脚本调用另一个脚本的输出结果显示菜单需要执行的操作安装卸载安装会新的子中执行目标脚本变量会与当前脚本不冲突卸载会加载另一个脚本文件的内容并在当前中执行变量可复用已退出操作关闭脚本显示菜单需要执行的操作安装卸载安装会新的子中执行目标脚本变量会与当前脚本不冲突卸载会加载另一个脚本文件的内容并在当前中执行变量可复用已退出操作关闭脚本从另一个脚本中定义变量执行当前脚本显示菜单需要执行的操作安装卸载安装会新的子中执行目标脚本变量会与当前脚本不冲突卸载会加载另一个脚本文件的内容并在当前中执行变量可复用已退出操作关闭脚本显示菜单需要执行的操作安装卸载安装会新的子中执行目标脚本变量会与当前脚本不冲突卸载会加载另一个脚本文件的内容并在当前中执行变量可复用已退出操作关闭脚本重定向操作重定向操作符流名称文件描述符描述示例标准输入用于输入数据通常从键盘或文件中读取数据标准输出用于输出程序的正常结果通常输出到终端屏幕或文件标准错误用于输出程序的错误信息通常输出到终端屏幕专门处理错误信息标准输入将文本的内容当作命令的执行变量标准输出将命令执行的输出重定向到文件里面标准错误命令执行失败将报错重定向到文件内组合使用文件运算符文件存在性和类型测试运算符运算符含义示例测试文件是否存在如果文件存在则返回测试文件是否是常规文件如果是常规文件则返回测试文件是否是目录如果是目录则返回测试文件是否非空文件大小大于字节如果文件非空则返回测试文件是否是符号链接如果是符号链接则返回测试文件是否是符号链接与功能相同如果是符号链接则返回测试文件是否是有名管道如果是有名管道则返回测试文件是否是字符设备文件比如终端如果是字符设备文件则返回测试文件是否是块设备文件比如硬盘设备如果是块设备文件则返回测试文件是否可写如果可写则返回测试文件是否可读如果可读则返回测试文件是否可执行如果可执行则返回测试文件是否设置了位如果设置了位则返回测试文件是否设置了位如果设置了位则返回测试文件是否设置了粘着位如果设置了粘着位则返回测试文件是否归当前用户所有如果当前用户是文件的所有者则返回测试文件是否归当前用户组所有如果当前用户组是文件的组则返回测试文件是否自上次访问以来被修改过如果文件自上次访问以来被修改过则返回文件比较运算符除了用于文件属性的测试外还有一些文件比较运算符用于比较两个文件的内容或属性运算符含义示例测试是否比新文件修改时间如果比新则返回测试是否比旧文件修改时间如果比旧则返回测试和是否是相同的文件硬链接如果和是同一文件硬链接则返回综合实例简单的运算输入操作数一输入操作数二输入操作符操作数不能为结果为结果为结果为结果为符号错误输入操作数一输入操作数二输入操作符操作数不能为结果为结果为结果为结果为符号错误阶乘运算获取传入的参数初始化结果为使用变量存储结果的的阶乘为打印结果请输入一个数来求出他的阶乘调用函数输入的数必须大于获取传入的参数初始化结果为使用变量存储结果的的阶乘为打印结果请输入一个数来求出他的阶乘调用函数输入的数必须大于获取指定网络的地址尝试在下用命令获取查看网络指定接口筛选出的行获取第二个字段内容以为字段分隔符号获取第一个字段的内容查看网络指定接口筛选出的行获取第二个字段内容以为字段分隔符号获取第一个字段的内容知道中负责定时任务的的尝试添加查看当前用户的定时任务可以配合管道副将输出的内容添加进去执行命令定时格式指定的用户星期几月份日期小时分钟查看当前用户的定时任务可以配合管道副将输出的内容添加进去执行命令定时格式指定的用户星期几月份日期小时分钟编写脚本定义函数当前地址为获取脚本的绝对路径检查中是否已经有该脚本的任务如果中没有任务添加任务定义函数当前地址为获取脚本的绝对路径检查中是否已经有该脚本的任务如果中没有任务添加任务无线重启脚本知道前面计划任务尝试编写一个开机就启动的计划任务暂不知道什么问题无法实现获取当前脚本的绝对路径定义时间格式检查中是否已经有该脚本的任务如果任务已存在重新启动系统如果任务不存在添加定时任务到获取当前脚本的绝对路径定义时间格式检查中是否已经有该脚本的任务如果任务已存在重新启动系统如果任务不存在添加定时任务到利用实现开机执行脚本重启部分定义了服务的描述和它的启动顺序是对服务的简短描述系统启动并进入多用户模式后部分定义了服务的运行方式指定了启动脚本的命令表示如果脚本崩溃会自动重新启动指定以哪个用户身份运行脚本部分定义了在何时启用该服务表示该服务将在系统进入多用户模式时启动通常这是默认的运行级别最终编写脚本定义函数定义函数',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-12-29 13:34:44',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="/img/ico/aesir.png"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">博客</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://pan.quark.cn/s/b15d46941933" title="文章工具"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/ico/favicon.ico" alt="文章工具"/><span class="back-menu-item-text">文章工具</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://xenoecho.us.kg" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/ico/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">XenoEcho</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-box-archive"></use></svg><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shapes"></use></svg><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-tags"></use></svg><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-link"></use></svg><span> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-music"></use></svg><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/books/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-book"></use></svg><span> 图书馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/movies/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-pay-movies"></use></svg><span> 电影院</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/essay/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-lightbulb"></use></svg><span> 胡思乱想</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shoe-prints"></use></svg><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Burp-Suite/" style="font-size: 1.05rem;">Burp Suite<sup>2</sup></a><a href="/tags/HTTP/" style="font-size: 1.05rem;">HTTP<sup>1</sup></a><a href="/tags/Kali/" style="font-size: 1.05rem;">Kali<sup>4</sup></a><a href="/tags/Kali-tools/" style="font-size: 1.05rem;">Kali tools<sup>3</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem;">Linux<sup>3</sup></a><a href="/tags/Shell/" style="font-size: 1.05rem;">Shell<sup>1</sup></a><a href="/tags/Sql%E6%B3%A8%E5%85%A5/" style="font-size: 1.05rem;">Sql注入<sup>1</sup></a><a href="/tags/vuInhub/" style="font-size: 1.05rem;">vuInhub<sup>4</sup></a><a href="/tags/webshell/" style="font-size: 1.05rem;">webshell<sup>1</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 1.05rem;">博客<sup>1</sup></a><a href="/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/" style="font-size: 1.05rem;">大模型<sup>1</sup></a><a href="/tags/%E7%BF%BB%E8%AF%91/" style="font-size: 1.05rem;">翻译<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">一月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">8</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">8</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">十一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div><div class="console-btn-item" id="consoleKeyboard" onclick="anzhiyu.keyboardToggle()" title="快捷键开关"><a class="keyboard-switch"><i class="anzhiyufont anzhiyu-icon-keyboard"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AE%89%E5%85%A8%E7%9B%B8%E5%85%B3/" itemprop="url">安全相关</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux/" itemprop="url">Linux</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/Linux/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Linux</span></a><a class="article-meta__tags" href="/tags/Shell/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Shell</span></a></span></div></div><h1 class="post-title" itemprop="name headline">Shell脚本基础</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2024-12-05T00:50:00.626Z" title="发表于 2024-12-05 08:50:00">2024-12-05</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2024-12-29T05:34:44.892Z" title="更新于 2024-12-29 13:34:44">2024-12-29</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">142k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>8:36分钟</span></span><span class="post-meta-separator"></span><span id="" data-flag-title="Shell脚本基础"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span class="waline-pageview-count" data-path="/posts/a6d155fc" title="访问量"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为广东"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>广东</span><span class="post-meta-separator"></span><span class="post-meta-commentcount"><i class="anzhiyufont anzhiyu-icon-comments post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/posts/a6d155fc#post-comment"><span class="waline-comment-count" data-path="/posts/a6d155fc"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></a></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://imges.xenon.us.kg/20241211/shell.jpg"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://www.xenoecho.us.kg/posts/a6d155fc"><header><a class="post-meta-categories" href="/categories/%E5%AE%89%E5%85%A8%E7%9B%B8%E5%85%B3/" itemprop="url">安全相关</a><a class="post-meta-categories" href="/categories/Linux/" itemprop="url">Linux</a><a href="/tags/Linux/" tabindex="-1" itemprop="url">Linux</a><a href="/tags/Shell/" tabindex="-1" itemprop="url">Shell</a><h1 id="CrawlerTitle" itemprop="name headline">Shell脚本基础</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">XenoEcho</span><time itemprop="dateCreated datePublished" datetime="2024-12-05T00:50:00.626Z" title="发表于 2024-12-05 08:50:00">2024-12-05</time><time itemprop="dateCreated datePublished" datetime="2024-12-29T05:34:44.892Z" title="更新于 2024-12-29 13:34:44">2024-12-29</time></header><h2 id="脚本解释器与变量"><a href="#脚本解释器与变量" class="headerlink" title="脚本解释器与变量"></a>脚本解释器与变量</h2><h3 id="脚本文件类似"><a href="#脚本文件类似" class="headerlink" title="脚本文件类似"></a>脚本文件类似</h3><blockquote>
<p>知道windows下有<code>.bat</code>脚本用来批量执行命令的，那Liunx下呢则是使用<code>.sh</code>脚本来批量执行命令，称为<code>shell脚本</code></p>
</blockquote>
<ol>
<li>创建脚本的方式很多，只需要保证文件类型为<code>.sh</code>即可</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">touch</span> 1.sh</span><br><span class="line">```bash</span><br><span class="line"><span class="built_in">touch</span> 1.sh</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241127005618.jpg" alt="Pasted-image-20241127005618"></p>
<h3 id="变量的概念"><a href="#变量的概念" class="headerlink" title="变量的概念"></a>变量的概念</h3><blockquote>
<p>什么是变量？可以理解为一个盒子(a)里面存放的东西为盒子(变量)的值，在Liunx中的变量通常用美元($)搞提醒操作系统他是个变量</p>
</blockquote>
<ul>
<li>如果设置全局变量只需要在设置变量的基础上前面加<code>export</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#尝试设置一个临时变量</span></span><br><span class="line">box=v50</span><br><span class="line"><span class="comment">#然后用命令输出他，记得加上美元符号告诉系统他是一个变量</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$box</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#尝试设置一个临时变量</span></span><br><span class="line">box=v50</span><br><span class="line"><span class="comment">#然后用命令输出他，记得加上美元符号告诉系统他是一个变量</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$box</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241127010759.jpg" alt="Pasted-image-20241127010759"></p>
<h3 id="引号的概念"><a href="#引号的概念" class="headerlink" title="引号的概念"></a>引号的概念</h3><h4 id="单引号"><a href="#单引号" class="headerlink" title="单引号"></a>单引号</h4><ul>
<li>使用单引号包裹着变量则不会对变量进行解释(告诉他里面是什么)和赋值(将里面的东西输出)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#尝试设置一个变量</span></span><br><span class="line">box=v50</span><br><span class="line"><span class="comment">#将变量用单引号括起来</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;$box&#x27;</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#尝试设置一个变量</span></span><br><span class="line">box=v50</span><br><span class="line"><span class="comment">#将变量用单引号括起来</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;$box&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241127013039.jpg" alt="Pasted-image-20241127013039"></p>
<h4 id="双引号"><a href="#双引号" class="headerlink" title="双引号"></a>双引号</h4><ul>
<li>双引号会对其中包含的变量进行解释或替换。默认不带符合则为双引号</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#尝试设置一个变量</span></span><br><span class="line">box=v50</span><br><span class="line"><span class="comment">#将变量用双引号括起来</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$box</span>&quot;</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#尝试设置一个变量</span></span><br><span class="line">box=v50</span><br><span class="line"><span class="comment">#将变量用双引号括起来</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$box</span>&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241127013238.jpg" alt="Pasted-image-20241127013238"></p>
<h4 id="花括号"><a href="#花括号" class="headerlink" title="花括号"></a>花括号</h4><ul>
<li>花括号在变量主要中用于明确边界、条件检索、字符串替换和截取</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#尝试设置一个变量</span></span><br><span class="line">box=v50</span><br><span class="line"><span class="comment">#正常我们如果要和变量输出的内容进行贴合(字符wo)话需要空格，而可以使用花括号来明确边界</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;box&#125;</span>wo</span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#尝试设置一个变量</span></span><br><span class="line">box=v50</span><br><span class="line"><span class="comment">#正常我们如果要和变量输出的内容进行贴合(字符wo)话需要空格，而可以使用花括号来明确边界</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;box&#125;</span>wo</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241127015218.jpg" alt="Pasted-image-20241127015218"></p>
<ul>
<li>条件检索(<code>-</code>为空使用默认值、<code>+</code>为空使用赋为默认值、<code>+</code>返回指定变量的值)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#尝试设置一个变量</span></span><br><span class="line">box=</span><br><span class="line"><span class="comment">#输出一个值为空或者未定义的变量时，默认是无输出的，但是可以使用花括号来进行设置默认值</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;box:-v50&#125;</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#尝试设置一个变量</span></span><br><span class="line">box=</span><br><span class="line"><span class="comment">#输出一个值为空或者未定义的变量时，默认是无输出的，但是可以使用花括号来进行设置默认值</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;box:-v50&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241127015531.jpg" alt="Pasted-image-20241127015531"></p>
<h3 id="脚本解释器"><a href="#脚本解释器" class="headerlink" title="脚本解释器"></a>脚本解释器</h3><blockquote>
<p>都知道Windows下的bat脚本的解释器是CMD，那么Liunx下的脚本解释器都有什么呢？默认情况下为&#x2F;bin目录下的<code>bash</code>、<code>sh</code>、<code>dash</code></p>
</blockquote>
<ul>
<li>具体选择那个都可以，也可以注意到<code>sh</code>的就解释器是软链接到<code>dash</code>的<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241127021012.jpg" alt="Pasted-image-20241127021012"></li>
</ul>
<ol start="2">
<li>在脚本执行的开头指定解释器</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">尝试设置一个变量</span></span><br><span class="line">box=v50</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">输出</span></span><br><span class="line">echo $box</span><br><span class="line"></span><br><span class="line">```shell</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">尝试设置一个变量</span></span><br><span class="line">box=v50</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">输出</span></span><br><span class="line">echo $box</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="系统变量和字符串"><a href="#系统变量和字符串" class="headerlink" title="系统变量和字符串"></a>系统变量和字符串</h2><h3 id="系统变量path"><a href="#系统变量path" class="headerlink" title="系统变量path"></a>系统变量path</h3><blockquote>
<p>Liunx和windows系统中都有个全局系统变量名为<code>path</code>，里面存放了可执行文件的搜索路径，多个路径用 <code>:</code> 分隔。</p>
</blockquote>
<ul>
<li>如果你想将脚本文件可以在系统的各个位置都可以执行话则需要将脚本的路径添加到<code>path</code>中</li>
</ul>
<ol>
<li>临时添加</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#还记得:$PATH表示保留原有的格式</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;/root:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#还记得:$PATH表示保留原有的格式</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;/root:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241127023941.jpg" alt="Pasted-image-20241127023941"><br>2. 永久添加(在原本的基础上添加，或者将脚本移动到他变量的路经(不建议))</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#这里的$PATH指引用他原本的变量，使用单引号是不解释他变量</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=&quot;$PATH:/root&quot;&#x27;</span> &gt;&gt; ~/.bashrc</span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#这里的$PATH指引用他原本的变量，使用单引号是不解释他变量</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=&quot;$PATH:/root&quot;&#x27;</span> &gt;&gt; ~/.bashrc</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241127105714.jpg" alt="Pasted-image-20241127105714"></p>
<h3 id="字符串的概念"><a href="#字符串的概念" class="headerlink" title="字符串的概念"></a>字符串的概念</h3><blockquote>
<p><strong>字符组成的有序序列</strong>的一种变量数据类型，用于表示文本数据。字符串可以包含<strong>字母、数字、空格、符号</strong>以及其他字符，例如标点符号、特殊符号等。</p>
</blockquote>
<h4 id="字符串的定义"><a href="#字符串的定义" class="headerlink" title="字符串的定义"></a>字符串的定义</h4><ul>
<li>字符串可以受用单双引号或者无引号包裹，建议使用引号来避免歧义</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#其实就是一种类型，只不过使用引号包裹,不仅限于设置变量为字符串，输出的内容也可以为字符串</span></span><br><span class="line">str=<span class="string">&quot;v50&quot;</span></span><br><span class="line"><span class="comment">#但是字符串和变量不是一个道理，输出的变量内容为字符串，但不能为理解为输出字符串</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$str</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#其实就是一种类型，只不过使用引号包裹,不仅限于设置变量为字符串，输出的内容也可以为字符串</span></span><br><span class="line">str=<span class="string">&quot;v50&quot;</span></span><br><span class="line"><span class="comment">#但是字符串和变量不是一个道理，输出的变量内容为字符串，但不能为理解为输出字符串</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$str</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128020433.jpg" alt="Pasted-image-20241128020433"></p>
<h4 id="字符串的操作"><a href="#字符串的操作" class="headerlink" title="字符串的操作"></a>字符串的操作</h4><ol>
<li>输出多个字符串拼接</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">str=<span class="string">&quot;v50&quot;</span></span><br><span class="line">rts=<span class="string">&quot;kfc&quot;</span></span><br><span class="line"><span class="comment">#为什么这里使用了花括号————避免引用变量产生歧义</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;rts&#125;</span>到了<span class="variable">$str</span></span><br><span class="line">```bash</span><br><span class="line">str=<span class="string">&quot;v50&quot;</span></span><br><span class="line">rts=<span class="string">&quot;kfc&quot;</span></span><br><span class="line"><span class="comment">#为什么这里使用了花括号————避免引用变量产生歧义</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;rts&#125;</span>到了<span class="variable">$str</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128021040.jpg" alt="Pasted-image-20241128021040"><br>2. 获取字符串长度</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">str=<span class="string">&quot;Linux&quot;</span></span><br><span class="line"><span class="comment"># 输出：长度是：5</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;长度是：<span class="variable">$&#123;#str&#125;</span>&quot;</span>  </span><br><span class="line">```bash</span><br><span class="line">str=<span class="string">&quot;Linux&quot;</span></span><br><span class="line"><span class="comment"># 输出：长度是：5</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;长度是：<span class="variable">$&#123;#str&#125;</span>&quot;</span>  </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128021254.jpg" alt="Pasted-image-20241128021254"><br>3. 截取子字符串</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">str=<span class="string">&quot;Shell scripting is fun&quot;</span></span><br><span class="line"><span class="comment"># 输出：scripting,从0开始数第六个截取到第九个</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;str:6:9&#125;</span>&quot;</span></span><br><span class="line">```bash</span><br><span class="line">str=<span class="string">&quot;Shell scripting is fun&quot;</span></span><br><span class="line"><span class="comment"># 输出：scripting,从0开始数第六个截取到第九个</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;str:6:9&#125;</span>&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128021516.jpg" alt="Pasted-image-20241128021516"><br>4. 查找和替换</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">str=<span class="string">&quot;I love Linux&quot;</span></span><br><span class="line"><span class="comment">#在变量str里面找Liunx替换为Unix</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;str/Linux/Unix&#125;</span>&quot;</span>   </span><br><span class="line">```bash</span><br><span class="line">str=<span class="string">&quot;I love Linux&quot;</span></span><br><span class="line"><span class="comment">#在变量str里面找Liunx替换为Unix</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;str/Linux/Unix&#125;</span>&quot;</span>   </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128021756.jpg" alt="Pasted-image-20241128021756"></p>
<h2 id="传参和数值运算"><a href="#传参和数值运算" class="headerlink" title="传参和数值运算"></a>传参和数值运算</h2><h3 id="传参的基本概念"><a href="#传参的基本概念" class="headerlink" title="传参的基本概念"></a>传参的基本概念</h3><blockquote>
<p>可以让脚本更加灵活地处理外部输入。通过<strong>位置参数</strong>来接收传递给脚本的参数。</p>
</blockquote>
<h4 id="位置参数"><a href="#位置参数" class="headerlink" title="位置参数"></a>位置参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>$0</code></td>
<td>脚本的名称</td>
</tr>
<tr>
<td><code>$1</code></td>
<td>传递给脚本的第1个参数</td>
</tr>
<tr>
<td><code>$2</code></td>
<td>传递给脚本的第2个参数</td>
</tr>
<tr>
<td><code>$3</code></td>
<td>传递给脚本的第3个参数</td>
</tr>
<tr>
<td><code>...</code></td>
<td>以此类推，表示传递给脚本的更多参数</td>
</tr>
<tr>
<td><code>$#</code></td>
<td>传递给脚本的参数总数</td>
</tr>
<tr>
<td><code>$@</code></td>
<td>所有的参数，参数之间用空格分隔</td>
</tr>
<tr>
<td><code>$*</code></td>
<td>所有的参数，参数之间也用空格分隔（和<code>$@</code> 类似，稍有区别）</td>
</tr>
<tr>
<td><code>&quot;$@&quot;</code></td>
<td>每个参数独立，逐行输出</td>
</tr>
<tr>
<td><code>&quot;$*&quot;</code></td>
<td>每个参数为一个整体，横向输出</td>
</tr>
<tr>
<td><code>$?</code></td>
<td>上一条命令的退出状态码</td>
</tr>
<tr>
<td><code>$$</code></td>
<td>当前的运行进程ID</td>
</tr>
</tbody></table>
<h4 id="传参测试"><a href="#传参测试" class="headerlink" title="传参测试"></a>传参测试</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;脚本名称: <span class="variable">$0</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;第一个参数: <span class="variable">$1</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;第二个参数: <span class="variable">$2</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;所有参数（\$@）: <span class="variable">$@</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;所有参数（\$*）: $*&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;参数总数: <span class="variable">$#</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;命令的退出状态：$?&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;命令的退出进程：$$&quot;</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;脚本名称: <span class="variable">$0</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;第一个参数: <span class="variable">$1</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;第二个参数: <span class="variable">$2</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;所有参数（\$@）: <span class="variable">$@</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;所有参数（\$*）: $*&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;参数总数: <span class="variable">$#</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;命令的退出状态：$?&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;命令的退出进程：$$&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128024610.jpg" alt="Pasted-image-20241128024610"></p>
<h3 id="数值运算"><a href="#数值运算" class="headerlink" title="数值运算"></a>数值运算</h3><h4 id="变量的算数运算"><a href="#变量的算数运算" class="headerlink" title="变量的算数运算"></a>变量的算数运算</h4><ol>
<li>使用<code>$(( ))</code>进行一个简单的运算，例子使用变量进行，实际上能直接套数值</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">a=8</span><br><span class="line">b=9</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加法</span></span><br><span class="line"><span class="built_in">sum</span>=$((a + b))</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;加法：<span class="variable">$a</span> + <span class="variable">$b</span> = <span class="variable">$sum</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 减法</span></span><br><span class="line">diff=$((a - b))</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;减法：<span class="variable">$a</span> - <span class="variable">$b</span> = <span class="variable">$diff</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 乘法</span></span><br><span class="line">product=$((a * b))</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;乘法：<span class="variable">$a</span> * <span class="variable">$b</span> = <span class="variable">$product</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 除法</span></span><br><span class="line">quotient=$((a / b))</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;除法：<span class="variable">$a</span> / <span class="variable">$b</span> = <span class="variable">$quotient</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 取余</span></span><br><span class="line">remainder=$((a % b))</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;取余：<span class="variable">$a</span> % <span class="variable">$b</span> = <span class="variable">$remainder</span>&quot;</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">a=8</span><br><span class="line">b=9</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加法</span></span><br><span class="line"><span class="built_in">sum</span>=$((a + b))</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;加法：<span class="variable">$a</span> + <span class="variable">$b</span> = <span class="variable">$sum</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 减法</span></span><br><span class="line">diff=$((a - b))</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;减法：<span class="variable">$a</span> - <span class="variable">$b</span> = <span class="variable">$diff</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 乘法</span></span><br><span class="line">product=$((a * b))</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;乘法：<span class="variable">$a</span> * <span class="variable">$b</span> = <span class="variable">$product</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 除法</span></span><br><span class="line">quotient=$((a / b))</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;除法：<span class="variable">$a</span> / <span class="variable">$b</span> = <span class="variable">$quotient</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 取余</span></span><br><span class="line">remainder=$((a % b))</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;取余：<span class="variable">$a</span> % <span class="variable">$b</span> = <span class="variable">$remainder</span>&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128025710.jpg" alt="Pasted-image-20241128025710"></p>
<ol start="2">
<li>使用 <code>expr</code> 进行算术运算，例子使用变量进行，实际上能直接套数值<ul>
<li>运算需要使用空格，且需要对运算符进行转义。</li>
</ul>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">a=5</span><br><span class="line">b=3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加法</span></span><br><span class="line"><span class="built_in">sum</span>=$(<span class="built_in">expr</span> <span class="variable">$a</span> + <span class="variable">$b</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;加法：<span class="variable">$a</span> + <span class="variable">$b</span> = <span class="variable">$sum</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 减法</span></span><br><span class="line">diff=$(<span class="built_in">expr</span> <span class="variable">$a</span> - <span class="variable">$b</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;减法：<span class="variable">$a</span> - <span class="variable">$b</span> = <span class="variable">$diff</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 乘法（*为通配符，需要使用反斜杠转义）</span></span><br><span class="line">product=$(<span class="built_in">expr</span> <span class="variable">$a</span> \* <span class="variable">$b</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;乘法：<span class="variable">$a</span> * <span class="variable">$b</span> = <span class="variable">$product</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 除法</span></span><br><span class="line">quotient=$(<span class="built_in">expr</span> <span class="variable">$a</span> / <span class="variable">$b</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;除法：<span class="variable">$a</span> / <span class="variable">$b</span> = <span class="variable">$quotient</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 取余</span></span><br><span class="line">remainder=$(<span class="built_in">expr</span> <span class="variable">$a</span> % <span class="variable">$b</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;取余：<span class="variable">$a</span> % <span class="variable">$b</span> = <span class="variable">$remainder</span>&quot;</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">a=5</span><br><span class="line">b=3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加法</span></span><br><span class="line"><span class="built_in">sum</span>=$(<span class="built_in">expr</span> <span class="variable">$a</span> + <span class="variable">$b</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;加法：<span class="variable">$a</span> + <span class="variable">$b</span> = <span class="variable">$sum</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 减法</span></span><br><span class="line">diff=$(<span class="built_in">expr</span> <span class="variable">$a</span> - <span class="variable">$b</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;减法：<span class="variable">$a</span> - <span class="variable">$b</span> = <span class="variable">$diff</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 乘法（*为通配符，需要使用反斜杠转义）</span></span><br><span class="line">product=$(<span class="built_in">expr</span> <span class="variable">$a</span> \* <span class="variable">$b</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;乘法：<span class="variable">$a</span> * <span class="variable">$b</span> = <span class="variable">$product</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 除法</span></span><br><span class="line">quotient=$(<span class="built_in">expr</span> <span class="variable">$a</span> / <span class="variable">$b</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;除法：<span class="variable">$a</span> / <span class="variable">$b</span> = <span class="variable">$quotient</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 取余</span></span><br><span class="line">remainder=$(<span class="built_in">expr</span> <span class="variable">$a</span> % <span class="variable">$b</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;取余：<span class="variable">$a</span> % <span class="variable">$b</span> = <span class="variable">$remainder</span>&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128030401.jpg" alt="Pasted-image-20241128030401"></p>
<h4 id="扩展运算"><a href="#扩展运算" class="headerlink" title="扩展运算"></a>扩展运算</h4><ul>
<li>shell计算中默认只能整数，可配合<code>bc</code>来进行浮点运算语法：<code>echo &quot;表达式&quot; | bc</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 浮动点数除法，scale为设置小数点后几位</span></span><br><span class="line">result=$(<span class="built_in">echo</span> <span class="string">&quot;scale=2; 5 / 2&quot;</span> | bc)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;浮动点数除法：5 / 5 = <span class="variable">$result</span>&quot;</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 浮动点数除法，scale为设置小数点后几位</span></span><br><span class="line">result=$(<span class="built_in">echo</span> <span class="string">&quot;scale=2; 5 / 2&quot;</span> | bc)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;浮动点数除法：5 / 5 = <span class="variable">$result</span>&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128030654.jpg" alt="Pasted-image-20241128030654"></p>
<ul>
<li>配合<code>bc</code>的<code>-l</code>数学库参数来进行得出算数平方根<code>sqrt</code>、正弦<code>s</code>、余弦<code>c</code>、反正弦<code>a</code>、对数<code>l</code>、次方<code>e</code>、正切<code>j</code>、反余弦<code>f</code>、反正切<code>p</code>、x^y次方<code>x^y</code>、圆周率<code>PI</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># 浮动点数除法，scale为设置小数点后几位,sqrt为计算平方根</span></span><br><span class="line">result=$(<span class="built_in">echo</span> <span class="string">&quot;scale=2;sqrt(64)&quot;</span>| bc -l)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;64的算数平方根为<span class="variable">$result</span>&quot;</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="comment"># 浮动点数除法，scale为设置小数点后几位,sqrt为计算平方根</span></span><br><span class="line">result=$(<span class="built_in">echo</span> <span class="string">&quot;scale=2;sqrt(64)&quot;</span>| bc -l)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;64的算数平方根为<span class="variable">$result</span>&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128031235.jpg" alt="Pasted-image-20241128031235"></p>
<ul>
<li>配合<code>bc</code>的<code>-q</code>参数运算后不显示提示符，即运算后不弹窗</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;scale=2; 5/7&quot;</span> | bc -q</span><br><span class="line">```bash</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;scale=2; 5/7&quot;</span> | bc -q</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="用户交互与关系运算符"><a href="#用户交互与关系运算符" class="headerlink" title="用户交互与关系运算符"></a>用户交互与关系运算符</h2><h3 id="用户交互"><a href="#用户交互" class="headerlink" title="用户交互"></a>用户交互</h3><blockquote>
<p>意味可以过脚本与用户进行输入和输出的交互。通过提示用户输入信息，并根据用户输入执行相应的操作。</p>
</blockquote>
<h4 id="基本交互"><a href="#基本交互" class="headerlink" title="基本交互"></a>基本交互</h4><ul>
<li>通过<code>read</code>命令来获取用户输入的参数，如读取多个变量则需要使用空格来分隔</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;请输入你的名字和年龄：&quot;</span></span><br><span class="line"><span class="comment">#依次将输入的内容赋值给变量</span></span><br><span class="line"><span class="built_in">read</span> name age</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;你的名字是：<span class="variable">$name</span>，年龄是：<span class="variable">$age</span>&quot;</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;请输入你的名字和年龄：&quot;</span></span><br><span class="line"><span class="comment">#依次将输入的内容赋值给变量</span></span><br><span class="line"><span class="built_in">read</span> name age</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;你的名字是：<span class="variable">$name</span>，年龄是：<span class="variable">$age</span>&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128033911.jpg" alt="Pasted-image-20241128033911"></p>
<h4 id="提示交互"><a href="#提示交互" class="headerlink" title="提示交互"></a>提示交互</h4><ul>
<li>通过<code>read</code>命令来获取用户输入的参数<code>-p</code>来提供输入前的提示信息</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;请输入你的名字：&quot;</span> name</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;请输入你的年龄：&quot;</span> age</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;你的名字是：<span class="variable">$name</span>，年龄是：<span class="variable">$age</span>&quot;</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;请输入你的名字：&quot;</span> name</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;请输入你的年龄：&quot;</span> age</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;你的名字是：<span class="variable">$name</span>，年龄是：<span class="variable">$age</span>&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128034215.jpg" alt="Pasted-image-20241128034215"></p>
<h4 id="read全部参数"><a href="#read全部参数" class="headerlink" title="read全部参数"></a>read全部参数</h4><blockquote>
<p>不同参数之间可以配合使用，例如设置隐藏输入内容和提示信息可以使用<code>-ps</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>-p</code></td>
<td>提示用户输入，后面跟提示信息。</td>
</tr>
<tr>
<td><code>-s</code></td>
<td>隐藏输入内容（常用于输入密码）。</td>
</tr>
<tr>
<td><code>-t</code></td>
<td>设置超时，单位为秒，超时后返回非零值。</td>
</tr>
<tr>
<td><code>-i</code></td>
<td>设置默认值，如果用户没有输入，则使用默认值。</td>
</tr>
<tr>
<td><code>-r</code></td>
<td>不处理反斜杠（\）转义字符，输入会原样保存。</td>
</tr>
<tr>
<td><code>-a</code></td>
<td>将输入保存为数组，按空格或换行分割。</td>
</tr>
<tr>
<td><code>-n</code></td>
<td>读取指定的字符数，限制用户输入的字符长度。</td>
</tr>
</tbody></table>
<h4 id="菜单交互"><a href="#菜单交互" class="headerlink" title="菜单交互"></a>菜单交互</h4><ul>
<li>基本语法</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> variable <span class="keyword">in</span> option1 option2 option3 ...; <span class="keyword">do</span></span><br><span class="line">  <span class="comment"># 对应的操作</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">```bash</span><br><span class="line"><span class="keyword">select</span> variable <span class="keyword">in</span> option1 option2 option3 ...; <span class="keyword">do</span></span><br><span class="line">  <span class="comment"># 对应的操作</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>简单的操作，无退出操作只能通过ctrl+c退出</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示菜单</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;你要吃什么&quot;</span></span><br><span class="line"><span class="keyword">select</span> option <span class="keyword">in</span> <span class="string">&quot;白米饭&quot;</span> <span class="string">&quot;红米饭&quot;</span> <span class="string">&quot;叉烧饭&quot;</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;你选择了<span class="variable">$option</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示菜单</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;你要吃什么&quot;</span></span><br><span class="line"><span class="keyword">select</span> option <span class="keyword">in</span> <span class="string">&quot;白米饭&quot;</span> <span class="string">&quot;红米饭&quot;</span> <span class="string">&quot;叉烧饭&quot;</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;你选择了<span class="variable">$option</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128035659.jpg" alt="Pasted-image-20241128035659"></p>
<h3 id="关系逻辑运算"><a href="#关系逻辑运算" class="headerlink" title="关系逻辑运算"></a>关系逻辑运算</h3><h4 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h4><p>用于比较两个整数值的大小和相等关系。</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>-eq</code></td>
<td>等于（equal）</td>
<td><code>a -eq b</code>：a 等于 b</td>
</tr>
<tr>
<td><code>-ne</code></td>
<td>不等于（not equal）</td>
<td><code>a -ne b</code>：a 不等于 b</td>
</tr>
<tr>
<td><code>-gt</code></td>
<td>大于（greater than）</td>
<td><code>a -gt b</code>：a 大于 b</td>
</tr>
<tr>
<td><code>-lt</code></td>
<td>小于（less than）</td>
<td><code>a -lt b</code>：a 小于 b</td>
</tr>
<tr>
<td><code>-ge</code></td>
<td>大于或等于（greater than or equal）</td>
<td><code>a -ge b</code>：a 大于或等于 b</td>
</tr>
<tr>
<td><code>-le</code></td>
<td>小于或等于（less than or equal）</td>
<td><code>a -le b</code>：a 小于或等于 b</td>
</tr>
</tbody></table>
<h4 id="if条件控制语句"><a href="#if条件控制语句" class="headerlink" title="if条件控制语句"></a>if条件控制语句</h4><ul>
<li>还可配合逻辑与关系运算</li>
<li>在 <code>[ condition ]</code> 之间一定要有空格，条件和操作符两边都需要空格。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> [ condition ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># 条件成立时执行的命令</span></span><br><span class="line"><span class="keyword">elif</span> [ another_condition ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># 如果第一个条件不成立，且第二个条件成立时执行的命令</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment"># 如果上述所有条件都不成立时执行的命令</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="keyword">if</span> [ condition ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># 条件成立时执行的命令</span></span><br><span class="line"><span class="keyword">elif</span> [ another_condition ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># 如果第一个条件不成立，且第二个条件成立时执行的命令</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment"># 如果上述所有条件都不成立时执行的命令</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><ul>
<li><code>[]</code>可以删掉，在<code>if</code>前面空格间隔使用<code>test</code>也一样可以输出，但不推荐使用</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line"><span class="comment">#判断a是否小于b，为真则输出，假则跳出输出</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$a</span> -lt <span class="variable">$b</span> ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;a 小于 b&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line"><span class="comment">#判断a是否小于b，为真则输出，假则跳出输出</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$a</span> -lt <span class="variable">$b</span> ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;a 小于 b&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128041259.jpg" alt="Pasted-image-20241128041259"></p>
<ul>
<li>配合菜单使用</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;你要吃什么&quot;</span></span><br><span class="line"><span class="keyword">select</span> option <span class="keyword">in</span> <span class="string">&quot;白米饭&quot;</span> <span class="string">&quot;红米饭&quot;</span> <span class="string">&quot;叉烧饭&quot;</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$option</span>&quot;</span> = <span class="string">&quot;白米饭&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;白白的<span class="variable">$option</span>好吃吗？&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> [ <span class="string">&quot;<span class="variable">$option</span>&quot;</span> = <span class="string">&quot;红米饭&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;红红的<span class="variable">$option</span>好吃吗？&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> [ <span class="string">&quot;<span class="variable">$option</span>&quot;</span> = <span class="string">&quot;叉烧饭&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$option</span>我最爱吃！&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;请你吃大嘴巴子&quot;</span></span><br><span class="line">        <span class="built_in">break</span>  <span class="comment"># 退出 select 循环</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;你要吃什么&quot;</span></span><br><span class="line"><span class="keyword">select</span> option <span class="keyword">in</span> <span class="string">&quot;白米饭&quot;</span> <span class="string">&quot;红米饭&quot;</span> <span class="string">&quot;叉烧饭&quot;</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$option</span>&quot;</span> = <span class="string">&quot;白米饭&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;白白的<span class="variable">$option</span>好吃吗？&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> [ <span class="string">&quot;<span class="variable">$option</span>&quot;</span> = <span class="string">&quot;红米饭&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;红红的<span class="variable">$option</span>好吃吗？&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> [ <span class="string">&quot;<span class="variable">$option</span>&quot;</span> = <span class="string">&quot;叉烧饭&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$option</span>我最爱吃！&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;请你吃大嘴巴子&quot;</span></span><br><span class="line">        <span class="built_in">break</span>  <span class="comment"># 退出 select 循环</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128044351.jpg" alt="Pasted-image-20241128044351"></p>
<h2 id="字符运算符与逻辑运算符"><a href="#字符运算符与逻辑运算符" class="headerlink" title="字符运算符与逻辑运算符"></a>字符运算符与逻辑运算符</h2><h3 id="字符运算符："><a href="#字符运算符：" class="headerlink" title="字符运算符："></a>字符运算符：</h3><table>
<thead>
<tr>
<th>运算符</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>=</code></td>
<td>判断两个字符串是否相等</td>
<td><code>if [ &quot;$str1&quot; = &quot;$str2&quot; ]; then</code></td>
</tr>
<tr>
<td><code>!=</code></td>
<td>判断两个字符串是否不相等</td>
<td><code>if [ &quot;$str1&quot; != &quot;$str2&quot; ]; then</code></td>
</tr>
<tr>
<td><code>-z</code></td>
<td>判断字符串是否为空</td>
<td><code>if [ -z &quot;$str&quot; ]; then</code></td>
</tr>
<tr>
<td><code>-n</code></td>
<td>判断字符串是否非空</td>
<td><code>if [ -n &quot;$str&quot; ]; then</code></td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td>判断字符串是否按字典顺序小于另一个字符串（仅支持字符比较）</td>
<td><code>if [[ &quot;$str1&quot; &lt; &quot;$str2&quot; ]]; then</code></td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>判断字符串是否按字典顺序大于另一个字符串（仅支持字符比较）</td>
<td><code>if [[ &quot;$str1&quot; &gt; &quot;$str2&quot; ]]; then</code></td>
</tr>
<tr>
<td>&#x3D;&#x3D;</td>
<td>判断两个字符串是否相等（适用于<code>[[ ]]</code> 中）</td>
<td><code>if [[ &quot;$str1&quot; == &quot;$str2&quot; ]]; then</code></td>
</tr>
</tbody></table>
<h4 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h4><ol>
<li>判断相等</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">str1=<span class="string">&quot;hallo&quot;</span></span><br><span class="line">str2=<span class="string">&quot;Hallo&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$str1</span> = <span class="variable">$str2</span> ]; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;相等&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">echo</span><span class="string">&quot;不相等&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">str1=<span class="string">&quot;hallo&quot;</span></span><br><span class="line">str2=<span class="string">&quot;Hallo&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$str1</span> = <span class="variable">$str2</span> ]; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;相等&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">echo</span><span class="string">&quot;不相等&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128045507.jpg" alt="Pasted-image-20241128045507"></p>
<ul>
<li>为空判断</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">str1=<span class="string">&quot;hallo&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -n <span class="variable">$str1</span> ]; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;不为空&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">echo</span><span class="string">&quot;空&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">str1=<span class="string">&quot;hallo&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -n <span class="variable">$str1</span> ]; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;不为空&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">echo</span><span class="string">&quot;空&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128045803.jpg" alt="Pasted-image-20241128045803"></p>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><table>
<thead>
<tr>
<th>运算符</th>
<th>说明</th>
<th>旧语法（不推荐）</th>
<th>现代语法（推荐）</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>逻辑“与”</td>
<td>只有两个条件都为真时，整体为真</td>
<td><code>-a</code></td>
<td><code>&amp;&amp;</code></td>
<td><code>[ condition1 -a condition2 ]</code> 或 <code>[ condition1 ] &amp;&amp; [ condition2 ]</code></td>
</tr>
<tr>
<td>逻辑“或”</td>
<td>至少一个条件为真时，整体为真</td>
<td><code>-o</code></td>
<td>&#96;</td>
<td></td>
</tr>
<tr>
<td>逻辑“非”</td>
<td>取反条件，条件为真时变假</td>
<td><code>!</code></td>
<td><code>!</code></td>
<td><code>[ ! condition ]</code></td>
</tr>
</tbody></table>
<h4 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h4><ul>
<li>逻辑与运算</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">x=5</span><br><span class="line">y=8</span><br><span class="line"></span><br><span class="line"><span class="comment"># 旧语法 - 使用 -a</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$x</span>&quot;</span> -gt 3 -a <span class="string">&quot;<span class="variable">$y</span>&quot;</span> -lt 10 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;x 大于 3 且 y 小于 10&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;条件不成立&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 现代语法 - 使用 &amp;&amp;</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$x</span>&quot;</span> -gt 3 ] &amp;&amp; [ <span class="string">&quot;<span class="variable">$y</span>&quot;</span> -lt 10 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;x 大于 3 且 y 小于 10&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;条件不成立&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">x=5</span><br><span class="line">y=8</span><br><span class="line"></span><br><span class="line"><span class="comment"># 旧语法 - 使用 -a</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$x</span>&quot;</span> -gt 3 -a <span class="string">&quot;<span class="variable">$y</span>&quot;</span> -lt 10 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;x 大于 3 且 y 小于 10&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;条件不成立&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 现代语法 - 使用 &amp;&amp;</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$x</span>&quot;</span> -gt 3 ] &amp;&amp; [ <span class="string">&quot;<span class="variable">$y</span>&quot;</span> -lt 10 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;x 大于 3 且 y 小于 10&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;条件不成立&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241128051119.jpg" alt="Pasted-image-20241128051119"></p>
<h2 id="for循环与while循环"><a href="#for循环与while循环" class="headerlink" title="for循环与while循环"></a>for循环与while循环</h2><h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><h4 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h4><ul>
<li><code>variable</code>：表示当前循环中的变量，它将依次取 <code>list</code> 中的每个值。</li>
<li><code>list</code>：可以是一个列表，或者是通过命令生成的输出结果。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> variable <span class="keyword">in</span> list</span><br><span class="line"><span class="keyword">do</span> <span class="comment">#开始</span></span><br><span class="line">    <span class="comment"># 执行的命令</span></span><br><span class="line"><span class="keyword">done</span> <span class="comment">#结束</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="keyword">for</span> variable <span class="keyword">in</span> list</span><br><span class="line"><span class="keyword">do</span> <span class="comment">#开始</span></span><br><span class="line">    <span class="comment"># 执行的命令</span></span><br><span class="line"><span class="keyword">done</span> <span class="comment">#结束</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="遍历固定元素列表"><a href="#遍历固定元素列表" class="headerlink" title="遍历固定元素列表"></a>遍历固定元素列表</h4><ul>
<li>方法一(不设变量)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">for</span> tian <span class="keyword">in</span> <span class="string">&quot;一&quot;</span> <span class="string">&quot;二&quot;</span> <span class="string">&quot;三&quot;</span> <span class="string">&quot;四&quot;</span> <span class="string">&quot;五&quot;</span> <span class="string">&quot;六&quot;</span> <span class="string">&quot;日&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;今天星期<span class="variable">$tian</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="keyword">for</span> tian <span class="keyword">in</span> <span class="string">&quot;一&quot;</span> <span class="string">&quot;二&quot;</span> <span class="string">&quot;三&quot;</span> <span class="string">&quot;四&quot;</span> <span class="string">&quot;五&quot;</span> <span class="string">&quot;六&quot;</span> <span class="string">&quot;日&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;今天星期<span class="variable">$tian</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129011022.jpg" alt="Pasted-image-20241129011022"></p>
<ul>
<li>方法二(设置变量)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义一个数组</span></span><br><span class="line">fruits=(<span class="string">&quot;一&quot;</span> <span class="string">&quot;二&quot;</span> <span class="string">&quot;三&quot;</span> <span class="string">&quot;四&quot;</span> <span class="string">&quot;五&quot;</span> <span class="string">&quot;六&quot;</span> <span class="string">&quot;日&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># $&#123;fruits[@]&#125;使用 for 循环遍历数组</span></span><br><span class="line"><span class="keyword">for</span> fruit <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$&#123;fruits[@]&#125;</span>&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;今天星期<span class="variable">$fruit</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义一个数组</span></span><br><span class="line">fruits=(<span class="string">&quot;一&quot;</span> <span class="string">&quot;二&quot;</span> <span class="string">&quot;三&quot;</span> <span class="string">&quot;四&quot;</span> <span class="string">&quot;五&quot;</span> <span class="string">&quot;六&quot;</span> <span class="string">&quot;日&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># $&#123;fruits[@]&#125;使用 for 循环遍历数组</span></span><br><span class="line"><span class="keyword">for</span> fruit <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$&#123;fruits[@]&#125;</span>&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;今天星期<span class="variable">$fruit</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129011650.jpg" alt="Pasted-image-20241129011650"></p>
<h4 id="遍历数字范围"><a href="#遍历数字范围" class="headerlink" title="遍历数字范围"></a>遍历数字范围</h4><ul>
<li>方法一(不设置变量)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历数字范围 1 到 10 间隔为2（可以不要）</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..10..2&#125;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;数字是 <span class="variable">$i</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历数字范围 1 到 10 间隔为2（可以不要）</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..10..2&#125;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;数字是 <span class="variable">$i</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129011844.jpg" alt="Pasted-image-20241129011844"></p>
<ul>
<li>方法二(通过<code>seq生成</code>):<code>seq [起始值] [间隔] [结束值]</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 seq 生成数字 1 到 10，间隔为 2</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> $(<span class="built_in">seq</span> 1 2 10)</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;数字是 <span class="variable">$i</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 seq 生成数字 1 到 10，间隔为 2</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> $(<span class="built_in">seq</span> 1 2 10)</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;数字是 <span class="variable">$i</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129011844.jpg" alt="Pasted-image-20241129011844"></p>
<h4 id="遍历命令"><a href="#遍历命令" class="headerlink" title="遍历命令"></a>遍历命令</h4><ul>
<li>for循环和Liunx下的命令配合操作，使用命令的输出的当作字符串返回——<code>$()</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">data=$(<span class="built_in">date</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;日期：<span class="variable">$data</span>&quot;</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">data=$(<span class="built_in">date</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;日期：<span class="variable">$data</span>&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129013230.jpg" alt="Pasted-image-20241129013230"></p>
<ul>
<li>配合for循环使用获取</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 find 查找所有 .txt 文件，并通过 for 循环处理</span></span><br><span class="line"><span class="keyword">for</span> txt_file <span class="keyword">in</span> $(find /etc -name <span class="string">&quot;*.txt&quot;</span>)</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="comment"># 输出当前正在处理的文件</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;正在查看文件：<span class="variable">$txt_file</span>&quot;</span></span><br><span class="line">  </span><br><span class="line">    <span class="comment"># 打开文件内容并输出</span></span><br><span class="line">    <span class="built_in">cat</span> <span class="string">&quot;<span class="variable">$txt_file</span>&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;====================&quot;</span>  <span class="comment"># 分隔符</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 find 查找所有 .txt 文件，并通过 for 循环处理</span></span><br><span class="line"><span class="keyword">for</span> txt_file <span class="keyword">in</span> $(find /etc -name <span class="string">&quot;*.txt&quot;</span>)</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="comment"># 输出当前正在处理的文件</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;正在查看文件：<span class="variable">$txt_file</span>&quot;</span></span><br><span class="line">  </span><br><span class="line">    <span class="comment"># 打开文件内容并输出</span></span><br><span class="line">    <span class="built_in">cat</span> <span class="string">&quot;<span class="variable">$txt_file</span>&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;====================&quot;</span>  <span class="comment"># 分隔符</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129014738.jpg" alt="Pasted-image-20241129014738"></p>
<h4 id="配合类似C风格"><a href="#配合类似C风格" class="headerlink" title="(())配合类似C风格"></a><code>(())</code>配合类似C风格</h4><ul>
<li><code>(())</code>里面可以进行简单的算数运算和条件运算，另外的let命令也可以进行算数运算</li>
</ul>
<h5 id="简单语法"><a href="#简单语法" class="headerlink" title="简单语法"></a>简单语法</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> ((初始值; 条件; 自变量)) <span class="comment">#自变量的值可为: i++ i-- i+=2(每次加2)</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="comment"># 代码块</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="keyword">for</span> ((初始值; 条件; 自变量)) <span class="comment">#自变量的值可为: i++ i-- i+=2(每次加2)</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="comment"># 代码块</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="实例-3"><a href="#实例-3" class="headerlink" title="实例"></a>实例</h5><ul>
<li>从1到100</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#i初始值为1，当i小于或等于100时就do一次，然后i自增</span></span><br><span class="line"><span class="keyword">for</span> ((i=<span class="number">1</span>;i&lt;=<span class="number">100</span>;i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$i</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="comment">#i初始值为1，当i小于或等于100时就do一次，然后i自增</span></span><br><span class="line"><span class="keyword">for</span> ((i=<span class="number">1</span>;i&lt;=<span class="number">100</span>;i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$i</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129020245.jpg" alt="Pasted-image-20241129020245"></p>
<h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><h4 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#直到条件不成立(假)时停止运行，或者使用循环终止</span></span><br><span class="line"><span class="keyword">while</span> [ 条件 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="comment"># 需要重复执行的命令</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#直到条件不成立(假)时停止运行，或者使用循环终止</span></span><br><span class="line"><span class="keyword">while</span> [ 条件 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="comment"># 需要重复执行的命令</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="循环输出数字"><a href="#循环输出数字" class="headerlink" title="循环输出数字"></a>循环输出数字</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">i=1</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$i</span> -el 5 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;i = <span class="variable">$i</span>&quot;</span></span><br><span class="line">    ((i++))  <span class="comment"># 自增 i</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">i=1</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$i</span> -el 5 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;i = <span class="variable">$i</span>&quot;</span></span><br><span class="line">    ((i++))  <span class="comment"># 自增 i</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129021119.jpg" alt="Pasted-image-20241129021119"></p>
<h4 id="终止语句配合使用"><a href="#终止语句配合使用" class="headerlink" title="终止语句配合使用"></a>终止语句配合使用</h4><ul>
<li><code>break</code>终止当前循环</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">i=0</span><br><span class="line"><span class="keyword">while</span> <span class="literal">true</span> <span class="comment">#设置永为真</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;当前值：<span class="variable">$i</span>&quot;</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$i</span> -eq 12 ]; <span class="keyword">then</span> <span class="comment">#内嵌条件判断</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;i 等于 5，终止循环&quot;</span></span><br><span class="line">        <span class="built_in">break</span>  <span class="comment"># 当 i 等于 5 时终止循环</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">let</span> i+=2 <span class="comment">#上方条件不符合进行运算</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;跳出while循环&quot;</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">i=0</span><br><span class="line"><span class="keyword">while</span> <span class="literal">true</span> <span class="comment">#设置永为真</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;当前值：<span class="variable">$i</span>&quot;</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$i</span> -eq 12 ]; <span class="keyword">then</span> <span class="comment">#内嵌条件判断</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;i 等于 5，终止循环&quot;</span></span><br><span class="line">        <span class="built_in">break</span>  <span class="comment"># 当 i 等于 5 时终止循环</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">let</span> i+=2 <span class="comment">#上方条件不符合进行运算</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;跳出while循环&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129022741.jpg" alt="Pasted-image-20241129022741"></p>
<ul>
<li><code>continue</code>跳出本次循环，并回到循环。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">i=1</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$i</span> -le 50 ] <span class="comment">#小于50则循环</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> [ $((i % <span class="number">5</span>)) -eq 0 ]; <span class="keyword">then</span> <span class="comment">#i除5的余等于0时执行一次</span></span><br><span class="line">	    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$i</span>为5的倍数&quot;</span></span><br><span class="line">        ((i++))</span><br><span class="line">        <span class="built_in">continue</span>  <span class="comment"># 跳出本次循环(while后面语句都的都不执行了，重新再执行一次while)</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;当前值为：<span class="variable">$i</span>&quot;</span></span><br><span class="line">    ((i++))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">i=1</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$i</span> -le 50 ] <span class="comment">#小于50则循环</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> [ $((i % <span class="number">5</span>)) -eq 0 ]; <span class="keyword">then</span> <span class="comment">#i除5的余等于0时执行一次</span></span><br><span class="line">	    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$i</span>为5的倍数&quot;</span></span><br><span class="line">        ((i++))</span><br><span class="line">        <span class="built_in">continue</span>  <span class="comment"># 跳出本次循环(while后面语句都的都不执行了，重新再执行一次while)</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;当前值为：<span class="variable">$i</span>&quot;</span></span><br><span class="line">    ((i++))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129023734.jpg" alt="Pasted-image-20241129023734"></p>
<h4 id="配合-管道符使用"><a href="#配合-管道符使用" class="headerlink" title="配合|管道符使用"></a>配合<code>|</code>管道符使用</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> /etc/apt/sources.list | <span class="keyword">while</span> <span class="built_in">read</span> line <span class="comment">#read逐行读取cat输出的内容</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="built_in">let</span> i++</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;第<span class="variable">$i</span>行：<span class="variable">$line</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> /etc/apt/sources.list | <span class="keyword">while</span> <span class="built_in">read</span> line <span class="comment">#read逐行读取cat输出的内容</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="built_in">let</span> i++</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;第<span class="variable">$i</span>行：<span class="variable">$line</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129024458.jpg" alt="Pasted-image-20241129024458"></p>
<h2 id="until循环与case判断"><a href="#until循环与case判断" class="headerlink" title="until循环与case判断"></a>until循环与case判断</h2><h3 id="until循环"><a href="#until循环" class="headerlink" title="until循环"></a>until循环</h3><h4 id="基本语法-1"><a href="#基本语法-1" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">until</span> [ condition ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="comment"># commands当条件不成立才退出</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="keyword">until</span> [ condition ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="comment"># commands当条件不成立才退出</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="数值累加"><a href="#数值累加" class="headerlink" title="数值累加"></a>数值累加</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">sum</span>=0 i=1</span><br><span class="line"><span class="keyword">until</span> [ <span class="variable">$i</span> -gt 10 ] <span class="comment">#知道满足条件退出循环</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">sum</span>=$((sum + i))</span><br><span class="line">    <span class="built_in">let</span> 1++</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;1 到 10 的和是：<span class="variable">$sum</span>&quot;</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">sum</span>=0 i=1</span><br><span class="line"><span class="keyword">until</span> [ <span class="variable">$i</span> -gt 10 ] <span class="comment">#知道满足条件退出循环</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">sum</span>=$((sum + i))</span><br><span class="line">    <span class="built_in">let</span> 1++</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;1 到 10 的和是：<span class="variable">$sum</span>&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129031005.jpg" alt="Pasted-image-20241129031005"></p>
<h3 id="case判断"><a href="#case判断" class="headerlink" title="case判断"></a>case判断</h3><h4 id="基本语法-2"><a href="#基本语法-2" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="variable">$variable</span> <span class="keyword">in</span></span><br><span class="line">    pattern1)</span><br><span class="line">        <span class="comment"># 处理匹配到 pattern1 的情况</span></span><br><span class="line">        ;;</span><br><span class="line">    pattern2)</span><br><span class="line">        <span class="comment"># 处理匹配到 pattern2 的情况</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="comment"># 默认情况下执行的代码</span></span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line">```bash</span><br><span class="line"><span class="keyword">case</span> <span class="variable">$variable</span> <span class="keyword">in</span></span><br><span class="line">    pattern1)</span><br><span class="line">        <span class="comment"># 处理匹配到 pattern1 的情况</span></span><br><span class="line">        ;;</span><br><span class="line">    pattern2)</span><br><span class="line">        <span class="comment"># 处理匹配到 pattern2 的情况</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="comment"># 默认情况下执行的代码</span></span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="根据输入执行相应操作"><a href="#根据输入执行相应操作" class="headerlink" title="根据输入执行相应操作"></a>根据输入执行相应操作</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示菜单</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;需要执行的操作&quot;</span></span><br><span class="line"><span class="keyword">select</span> option <span class="keyword">in</span> <span class="string">&quot;安装&quot;</span> <span class="string">&quot;修复&quot;</span> <span class="string">&quot;卸载&quot;</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$option</span> <span class="keyword">in</span></span><br><span class="line">    安装)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;正在安装中...&quot;</span></span><br><span class="line">        <span class="built_in">sleep</span> 2 <span class="comment">#等待两秒</span></span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line">        ;;</span><br><span class="line">    修复)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;正在修复中...&quot;</span></span><br><span class="line">        <span class="built_in">sleep</span> 2 <span class="comment">#等待两秒</span></span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line">        ;;</span><br><span class="line">    卸载)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;正在卸载中...&quot;</span></span><br><span class="line">        <span class="built_in">sleep</span> 10 <span class="comment">#等待10秒</span></span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;已退出操作&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> <span class="comment">#关闭脚本</span></span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示菜单</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;需要执行的操作&quot;</span></span><br><span class="line"><span class="keyword">select</span> option <span class="keyword">in</span> <span class="string">&quot;安装&quot;</span> <span class="string">&quot;修复&quot;</span> <span class="string">&quot;卸载&quot;</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$option</span> <span class="keyword">in</span></span><br><span class="line">    安装)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;正在安装中...&quot;</span></span><br><span class="line">        <span class="built_in">sleep</span> 2 <span class="comment">#等待两秒</span></span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line">        ;;</span><br><span class="line">    修复)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;正在修复中...&quot;</span></span><br><span class="line">        <span class="built_in">sleep</span> 2 <span class="comment">#等待两秒</span></span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line">        ;;</span><br><span class="line">    卸载)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;正在卸载中...&quot;</span></span><br><span class="line">        <span class="built_in">sleep</span> 10 <span class="comment">#等待10秒</span></span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;已退出操作&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> <span class="comment">#关闭脚本</span></span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129032115.jpg" alt="Pasted-image-20241129032115"></p>
<h2 id="封装函数与脚本调用与重定向"><a href="#封装函数与脚本调用与重定向" class="headerlink" title="封装函数与脚本调用与重定向"></a>封装函数与脚本调用与重定向</h2><h3 id="封装函数"><a href="#封装函数" class="headerlink" title="封装函数"></a>封装函数</h3><blockquote>
<p><strong>函数封装</strong>就是指将一段可重用的代码放入一个函数中，并通过函数的参数和返回值来与外部的代码进行交互。</p>
</blockquote>
<h4 id="基本语法-3"><a href="#基本语法-3" class="headerlink" title="基本语法"></a>基本语法</h4><blockquote>
<p>传参变量<a href="Shell%E8%84%9A%E6%9C%AC.md#%E4%BC%A0%E5%8F%82%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5">回看</a></p>
</blockquote>
<ul>
<li>封装方法一</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">function_name</span></span>() &#123; <span class="comment">#封装函数</span></span><br><span class="line">    <span class="comment"># commands</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function_name(传递的参数) <span class="comment">#调用</span></span><br><span class="line">```bash</span><br><span class="line"><span class="function"><span class="title">function_name</span></span>() &#123; <span class="comment">#封装函数</span></span><br><span class="line">    <span class="comment"># commands</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function_name(传递的参数) <span class="comment">#调用</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>封装方法二</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> function_name &#123; <span class="comment">#封装函数</span></span><br><span class="line">    <span class="comment"># commands</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function_name(传递的参数) <span class="comment">#调用</span></span><br><span class="line">```bash</span><br><span class="line"><span class="keyword">function</span> function_name &#123; <span class="comment">#封装函数</span></span><br><span class="line">    <span class="comment"># commands</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function_name(传递的参数) <span class="comment">#调用</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="实例-4"><a href="#实例-4" class="headerlink" title="实例"></a>实例</h4><ol>
<li>日志打印</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义日志打印函数</span></span><br><span class="line"><span class="function"><span class="title">log_message</span></span>() &#123;</span><br><span class="line"><span class="comment">#local定义局部变量</span></span><br><span class="line">    <span class="built_in">local</span> log_level=<span class="variable">$1</span> <span class="comment">#参1</span></span><br><span class="line">    <span class="built_in">local</span> message=<span class="variable">$2</span> <span class="comment">#参二</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;[<span class="variable">$log_level</span>] <span class="subst">$(date)</span>: <span class="variable">$message</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用日志函数</span></span><br><span class="line">log_message <span class="string">&quot;INFO&quot;</span> <span class="string">&quot;脚本开始执行&quot;</span></span><br><span class="line">log_message <span class="string">&quot;ERROR&quot;</span> <span class="string">&quot;文件未找到&quot;</span></span><br><span class="line">log_message <span class="string">&quot;DEBUG&quot;</span> <span class="string">&quot;正在调试模式&quot;</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义日志打印函数</span></span><br><span class="line"><span class="function"><span class="title">log_message</span></span>() &#123;</span><br><span class="line"><span class="comment">#local定义局部变量</span></span><br><span class="line">    <span class="built_in">local</span> log_level=<span class="variable">$1</span> <span class="comment">#参1</span></span><br><span class="line">    <span class="built_in">local</span> message=<span class="variable">$2</span> <span class="comment">#参二</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;[<span class="variable">$log_level</span>] <span class="subst">$(date)</span>: <span class="variable">$message</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用日志函数</span></span><br><span class="line">log_message <span class="string">&quot;INFO&quot;</span> <span class="string">&quot;脚本开始执行&quot;</span></span><br><span class="line">log_message <span class="string">&quot;ERROR&quot;</span> <span class="string">&quot;文件未找到&quot;</span></span><br><span class="line">log_message <span class="string">&quot;DEBUG&quot;</span> <span class="string">&quot;正在调试模式&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129034745.jpg" alt="Pasted-image-20241129034745"><br>2. 备份文件脚本</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义备份函数</span></span><br><span class="line"><span class="function"><span class="title">backup_file</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> source_file=<span class="variable">$1</span></span><br><span class="line">    <span class="built_in">local</span> backup_file=<span class="variable">$2</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> [ ! -f <span class="string">&quot;<span class="variable">$source_file</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;错误：源文件 <span class="variable">$source_file</span> 不存在&quot;</span></span><br><span class="line">        <span class="built_in">return</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="comment"># 执行备份</span></span><br><span class="line">    <span class="built_in">cp</span> <span class="string">&quot;<span class="variable">$source_file</span>&quot;</span> <span class="string">&quot;<span class="variable">$backup_file</span>&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;文件已成功备份：<span class="variable">$source_file</span> 到 <span class="variable">$backup_file</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;要备份的文件：&quot;</span> file</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;备份的路径：&quot;</span> <span class="built_in">dir</span> </span><br><span class="line"><span class="comment"># 调用备份函数</span></span><br><span class="line">backup_file <span class="string">&quot;<span class="variable">$file</span>&quot;</span> <span class="string">&quot;<span class="variable">$dir</span>&quot;</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义备份函数</span></span><br><span class="line"><span class="function"><span class="title">backup_file</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> source_file=<span class="variable">$1</span></span><br><span class="line">    <span class="built_in">local</span> backup_file=<span class="variable">$2</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> [ ! -f <span class="string">&quot;<span class="variable">$source_file</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;错误：源文件 <span class="variable">$source_file</span> 不存在&quot;</span></span><br><span class="line">        <span class="built_in">return</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="comment"># 执行备份</span></span><br><span class="line">    <span class="built_in">cp</span> <span class="string">&quot;<span class="variable">$source_file</span>&quot;</span> <span class="string">&quot;<span class="variable">$backup_file</span>&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;文件已成功备份：<span class="variable">$source_file</span> 到 <span class="variable">$backup_file</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;要备份的文件：&quot;</span> file</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;备份的路径：&quot;</span> <span class="built_in">dir</span> </span><br><span class="line"><span class="comment"># 调用备份函数</span></span><br><span class="line">backup_file <span class="string">&quot;<span class="variable">$file</span>&quot;</span> <span class="string">&quot;<span class="variable">$dir</span>&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129040203.jpg" alt="Pasted-image-20241129040203"></p>
<h3 id="脚本调用"><a href="#脚本调用" class="headerlink" title="脚本调用"></a>脚本调用</h3><ol>
<li>用一个脚本调用另一个脚本的输出结果</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示菜单</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;需要执行的操作&quot;</span></span><br><span class="line"><span class="keyword">select</span> option <span class="keyword">in</span> <span class="string">&quot;安装&quot;</span> <span class="string">&quot;卸载&quot;</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$option</span> <span class="keyword">in</span></span><br><span class="line">    安装)</span><br><span class="line">	    ./2.sh <span class="comment">#.会新的子 Shell 中执行目标脚本，变量会与当前脚本不冲突</span></span><br><span class="line">	    <span class="built_in">break</span></span><br><span class="line">        ;;</span><br><span class="line">    卸载)</span><br><span class="line">        <span class="built_in">source</span> 3.sh <span class="comment">#source会加载另一个脚本文件的内容并在当前 Shell 中执行，变量可复用</span></span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;已退出操作&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> <span class="comment">#关闭脚本</span></span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示菜单</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;需要执行的操作&quot;</span></span><br><span class="line"><span class="keyword">select</span> option <span class="keyword">in</span> <span class="string">&quot;安装&quot;</span> <span class="string">&quot;卸载&quot;</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$option</span> <span class="keyword">in</span></span><br><span class="line">    安装)</span><br><span class="line">	    ./2.sh <span class="comment">#.会新的子 Shell 中执行目标脚本，变量会与当前脚本不冲突</span></span><br><span class="line">	    <span class="built_in">break</span></span><br><span class="line">        ;;</span><br><span class="line">    卸载)</span><br><span class="line">        <span class="built_in">source</span> 3.sh <span class="comment">#source会加载另一个脚本文件的内容并在当前 Shell 中执行，变量可复用</span></span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;已退出操作&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> <span class="comment">#关闭脚本</span></span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129042244.jpg" alt="Pasted-image-20241129042244"><br>2. 从另一个脚本中定义变量执行当前脚本</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示菜单</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;需要执行的操作&quot;</span></span><br><span class="line"><span class="keyword">select</span> option <span class="keyword">in</span> <span class="string">&quot;安装&quot;</span> <span class="string">&quot;卸载&quot;</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$option</span> <span class="keyword">in</span></span><br><span class="line">    安装)</span><br><span class="line">	    ./2.sh <span class="comment">#.会新的子 Shell 中执行目标脚本，变量会与当前脚本不冲突</span></span><br><span class="line">	    <span class="built_in">echo</span> <span class="variable">$test</span></span><br><span class="line">	    <span class="built_in">break</span></span><br><span class="line">        ;;</span><br><span class="line">    卸载)</span><br><span class="line">        <span class="built_in">source</span> 3.sh <span class="comment">#source会加载另一个脚本文件的内容并在当前 Shell 中执行，变量可复用</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$test</span></span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;已退出操作&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> <span class="comment">#关闭脚本</span></span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示菜单</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;需要执行的操作&quot;</span></span><br><span class="line"><span class="keyword">select</span> option <span class="keyword">in</span> <span class="string">&quot;安装&quot;</span> <span class="string">&quot;卸载&quot;</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$option</span> <span class="keyword">in</span></span><br><span class="line">    安装)</span><br><span class="line">	    ./2.sh <span class="comment">#.会新的子 Shell 中执行目标脚本，变量会与当前脚本不冲突</span></span><br><span class="line">	    <span class="built_in">echo</span> <span class="variable">$test</span></span><br><span class="line">	    <span class="built_in">break</span></span><br><span class="line">        ;;</span><br><span class="line">    卸载)</span><br><span class="line">        <span class="built_in">source</span> 3.sh <span class="comment">#source会加载另一个脚本文件的内容并在当前 Shell 中执行，变量可复用</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$test</span></span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;已退出操作&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> <span class="comment">#关闭脚本</span></span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129043159.jpg" alt="Pasted-image-20241129043159"></p>
<h3 id="重定向操作"><a href="#重定向操作" class="headerlink" title="重定向操作"></a>重定向操作</h3><h4 id="重定向操作符"><a href="#重定向操作符" class="headerlink" title="重定向操作符"></a>重定向操作符</h4><table>
<thead>
<tr>
<th>流名称</th>
<th>文件描述符</th>
<th>描述</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>标准输入（stdin）</td>
<td><code>0</code></td>
<td>用于输入数据，通常从键盘或文件中读取数据</td>
<td><code>cat &lt; input.txt</code></td>
</tr>
<tr>
<td>标准输出（stdout）</td>
<td><code>1</code></td>
<td>用于输出程序的正常结果，通常输出到终端屏幕或文件</td>
<td><code>echo &quot;Hello, World!&quot; &gt; output.txt</code></td>
</tr>
<tr>
<td>标准错误（stderr）</td>
<td><code>2</code></td>
<td>用于输出程序的错误信息，通常输出到终端屏幕，专门处理错误信息</td>
<td><code>ls nonexistent_file 2&gt; error.log</code></td>
</tr>
</tbody></table>
<ol>
<li>标准输入(将文本的内容当作命令的执行变量)</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ls</span> -l &lt; 3.txt</span><br><span class="line">```bash</span><br><span class="line"><span class="built_in">ls</span> -l &lt; 3.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129043321.jpg" alt="Pasted-image-20241129043321"></p>
<ol start="2">
<li>标准输出(将命令执行的输出重定向到文件里面)</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ls</span> &gt; z.txt</span><br><span class="line">```bash</span><br><span class="line"><span class="built_in">ls</span> &gt; z.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129043321.jpg" alt="Pasted-image-20241129043321"><br>3. 标准错误(命令执行失败将报错重定向到文件内)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nmap 2&gt; 1.txt</span><br><span class="line">```bash</span><br><span class="line">nmap 2&gt; 1.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129045350.jpg" alt="Pasted-image-20241129045350"><br>4. 组合使用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ls</span> &gt; 2.txt 2&gt;1.txt</span><br><span class="line"></span><br><span class="line">nmap &gt; 2.txt 2&gt;1.txt</span><br><span class="line">```bash</span><br><span class="line"><span class="built_in">ls</span> &gt; 2.txt 2&gt;1.txt</span><br><span class="line"></span><br><span class="line">nmap &gt; 2.txt 2&gt;1.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129045702.jpg" alt="Pasted-image-20241129045702"></p>
<h2 id="文件运算符"><a href="#文件运算符" class="headerlink" title="文件运算符"></a>文件运算符</h2><h3 id="1-文件存在性和类型测试运算符"><a href="#1-文件存在性和类型测试运算符" class="headerlink" title="1. 文件存在性和类型测试运算符"></a>1. 文件存在性和类型测试运算符</h3><table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>-e FILE</code></td>
<td>测试文件是否存在。</td>
<td><code>[ -e /path/to/file ]</code> # 如果文件存在则返回 true</td>
</tr>
<tr>
<td><code>-f FILE</code></td>
<td>测试文件是否是常规文件。</td>
<td><code>[ -f /path/to/file ]</code> # 如果是常规文件则返回 true</td>
</tr>
<tr>
<td><code>-d FILE</code></td>
<td>测试文件是否是目录。</td>
<td><code>[ -d /path/to/dir ]</code> # 如果是目录则返回 true</td>
</tr>
<tr>
<td><code>-s FILE</code></td>
<td>测试文件是否非空（文件大小大于 0 字节）。</td>
<td><code>[ -s /path/to/file ]</code> # 如果文件非空则返回 true</td>
</tr>
<tr>
<td><code>-L FILE</code></td>
<td>测试文件是否是符号链接。</td>
<td><code>[ -L /path/to/file ]</code> # 如果是符号链接则返回 true</td>
</tr>
<tr>
<td><code>-h FILE</code></td>
<td>测试文件是否是符号链接（<code>-L</code> 与 <code>-h</code> 功能相同）。</td>
<td><code>[ -h /path/to/file ]</code> # 如果是符号链接则返回 true</td>
</tr>
<tr>
<td><code>-p FILE</code></td>
<td>测试文件是否是有名管道（FIFO）。</td>
<td><code>[ -p /path/to/file ]</code> # 如果是有名管道则返回 true</td>
</tr>
<tr>
<td><code>-c FILE</code></td>
<td>测试文件是否是字符设备文件（比如终端）。</td>
<td><code>[ -c /path/to/file ]</code> # 如果是字符设备文件则返回 true</td>
</tr>
<tr>
<td><code>-b FILE</code></td>
<td>测试文件是否是块设备文件（比如硬盘设备）。</td>
<td><code>[ -b /path/to/file ]</code> # 如果是块设备文件则返回 true</td>
</tr>
<tr>
<td><code>-w FILE</code></td>
<td>测试文件是否可写。</td>
<td><code>[ -w /path/to/file ]</code> # 如果可写则返回 true</td>
</tr>
<tr>
<td><code>-r FILE</code></td>
<td>测试文件是否可读。</td>
<td><code>[ -r /path/to/file ]</code> # 如果可读则返回 true</td>
</tr>
<tr>
<td><code>-x FILE</code></td>
<td>测试文件是否可执行。</td>
<td><code>[ -x /path/to/file ]</code> # 如果可执行则返回 true</td>
</tr>
<tr>
<td><code>-u FILE</code></td>
<td>测试文件是否设置了 SUID 位。</td>
<td><code>[ -u /path/to/file ]</code> # 如果设置了 SUID 位则返回 true</td>
</tr>
<tr>
<td><code>-g FILE</code></td>
<td>测试文件是否设置了 SGID 位。</td>
<td><code>[ -g /path/to/file ]</code> # 如果设置了 SGID 位则返回 true</td>
</tr>
<tr>
<td><code>-k FILE</code></td>
<td>测试文件是否设置了粘着位（sticky bit）。</td>
<td><code>[ -k /path/to/file ]</code> # 如果设置了粘着位则返回 true</td>
</tr>
<tr>
<td><code>-O FILE</code></td>
<td>测试文件是否归当前用户所有。</td>
<td><code>[ -O /path/to/file ]</code> # 如果当前用户是文件的所有者则返回 true</td>
</tr>
<tr>
<td><code>-G FILE</code></td>
<td>测试文件是否归当前用户组所有。</td>
<td><code>[ -G /path/to/file ]</code> # 如果当前用户组是文件的组则返回 true</td>
</tr>
<tr>
<td><code>-N FILE</code></td>
<td>测试文件是否自上次访问以来被修改过。</td>
<td><code>[ -N /path/to/file ]</code> # 如果文件自上次访问以来被修改过则返回 true</td>
</tr>
</tbody></table>
<h3 id="2-文件比较运算符"><a href="#2-文件比较运算符" class="headerlink" title="2. 文件比较运算符"></a>2. 文件比较运算符</h3><p>除了用于文件属性的测试外，还有一些文件比较运算符，用于比较两个文件的内容或属性。</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>含义</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>FILE1 -nt FILE2</code></td>
<td>测试 FILE1 是否比 FILE2 新（文件修改时间）。</td>
<td><code>[ /path/to/file1 -nt /path/to/file2 ]</code> # 如果 file1 比 file2 新则返回 true</td>
</tr>
<tr>
<td><code>FILE1 -ot FILE2</code></td>
<td>测试 FILE1 是否比 FILE2 旧（文件修改时间）。</td>
<td><code>[ /path/to/file1 -ot /path/to/file2 ]</code> # 如果 file1 比 file2 旧则返回 true</td>
</tr>
<tr>
<td><code>FILE1 -ef FILE2</code></td>
<td>测试 FILE1 和 FILE2 是否是相同的文件（硬链接）。</td>
<td><code>[ /path/to/file1 -ef /path/to/file2 ]</code> # 如果 file1 和 file2 是同一文件（硬链接）则返回 true</td>
</tr>
</tbody></table>
<h2 id="综合实例"><a href="#综合实例" class="headerlink" title="综合实例"></a>综合实例</h2><h3 id="简单的运算"><a href="#简单的运算" class="headerlink" title="简单的运算"></a>简单的运算</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;输入操作数一:&quot;</span> num1</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;输入操作数二:&quot;</span> num2</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;输入操作符:&quot;</span> opt</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$num1</span>&quot;</span> -eq 0 ] &amp;&amp; [ <span class="string">&quot;<span class="variable">$num2</span>&quot;</span> -eq 0 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;操作数不能为0&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="keyword">case</span> <span class="variable">$opt</span> <span class="keyword">in</span></span><br><span class="line">    <span class="string">&quot;+&quot;</span>)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;结果为：<span class="subst">$((num1 + num2)</span>)&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    <span class="string">&quot;-&quot;</span>)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;结果为：<span class="subst">$((num1 - num2)</span>)&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    <span class="string">&quot;*&quot;</span>)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;结果为：<span class="subst">$((num1 * num2)</span>)&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    <span class="string">&quot;/&quot;</span>)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;结果为：<span class="subst">$((num1 / num2)</span>).<span class="subst">$(expr $num1 % $num2)</span>&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;符号错误&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    <span class="keyword">esac</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;输入操作数一:&quot;</span> num1</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;输入操作数二:&quot;</span> num2</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;输入操作符:&quot;</span> opt</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$num1</span>&quot;</span> -eq 0 ] &amp;&amp; [ <span class="string">&quot;<span class="variable">$num2</span>&quot;</span> -eq 0 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;操作数不能为0&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="keyword">case</span> <span class="variable">$opt</span> <span class="keyword">in</span></span><br><span class="line">    <span class="string">&quot;+&quot;</span>)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;结果为：<span class="subst">$((num1 + num2)</span>)&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    <span class="string">&quot;-&quot;</span>)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;结果为：<span class="subst">$((num1 - num2)</span>)&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    <span class="string">&quot;*&quot;</span>)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;结果为：<span class="subst">$((num1 * num2)</span>)&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    <span class="string">&quot;/&quot;</span>)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;结果为：<span class="subst">$((num1 / num2)</span>).<span class="subst">$(expr $num1 % $num2)</span>&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;符号错误&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    <span class="keyword">esac</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129142425.jpg" alt="Pasted-image-20241129142425"></p>
<h3 id="阶乘运算"><a href="#阶乘运算" class="headerlink" title="阶乘运算"></a>阶乘运算</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">nx</span></span> () &#123;</span><br><span class="line">    <span class="built_in">local</span> num=<span class="variable">$1</span></span><br><span class="line">    <span class="comment"># 获取传入的参数</span></span><br><span class="line">    <span class="built_in">local</span> result=1</span><br><span class="line">    <span class="comment"># 初始化结果为 1</span></span><br><span class="line">    <span class="keyword">for</span>((i=<span class="number">1</span>;i&lt;=num;i++))</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        result=$((<span class="variable">$result</span> * i))</span><br><span class="line">        <span class="comment"># 使用 result 变量存储结果</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="built_in">echo</span> !<span class="variable">$&#123;num&#125;</span>的的阶乘为：<span class="variable">$result</span> <span class="comment"># 打印结果</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;请输入一个数来求出他的阶乘：&quot;</span> n</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$n</span> -gt 0 ]; <span class="keyword">then</span></span><br><span class="line">    nx <span class="variable">$n</span> <span class="comment"># 调用函数</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;输入的数必须大于0&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">```bash</span><br><span class="line"><span class="function"><span class="title">nx</span></span> () &#123;</span><br><span class="line">    <span class="built_in">local</span> num=<span class="variable">$1</span></span><br><span class="line">    <span class="comment"># 获取传入的参数</span></span><br><span class="line">    <span class="built_in">local</span> result=1</span><br><span class="line">    <span class="comment"># 初始化结果为 1</span></span><br><span class="line">    <span class="keyword">for</span>((i=<span class="number">1</span>;i&lt;=num;i++))</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        result=$((<span class="variable">$result</span> * i))</span><br><span class="line">        <span class="comment"># 使用 result 变量存储结果</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="built_in">echo</span> !<span class="variable">$&#123;num&#125;</span>的的阶乘为：<span class="variable">$result</span> <span class="comment"># 打印结果</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;请输入一个数来求出他的阶乘：&quot;</span> n</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$n</span> -gt 0 ]; <span class="keyword">then</span></span><br><span class="line">    nx <span class="variable">$n</span> <span class="comment"># 调用函数</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;输入的数必须大于0&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129163352.jpg" alt="Pasted-image-20241129163352"></p>
<h3 id="获取指定网络的IPv4地址"><a href="#获取指定网络的IPv4地址" class="headerlink" title="获取指定网络的IPv4地址"></a>获取指定网络的IPv4地址</h3><ol>
<li>尝试在Liunx下用命令获取</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ip addr show eth0 | grep <span class="string">&quot;/24&quot;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | <span class="built_in">cut</span> -d<span class="string">&#x27;/&#x27;</span> -f1</span><br><span class="line"><span class="comment">#查看网络指定接口eth0 |筛选出/24的行|获取第二个字段内容|以/为字段分隔符号，获取第一个字段的内容</span></span><br><span class="line">```bash</span><br><span class="line">ip addr show eth0 | grep <span class="string">&quot;/24&quot;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | <span class="built_in">cut</span> -d<span class="string">&#x27;/&#x27;</span> -f1</span><br><span class="line"><span class="comment">#查看网络指定接口eth0 |筛选出/24的行|获取第二个字段内容|以/为字段分隔符号，获取第一个字段的内容</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241129170446.jpg" alt="Pasted-image-20241129170446"><br>2. 知道Liunx中负责定时任务的的<code>cron</code>，尝试添加</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">crontab -l </span><br><span class="line"><span class="comment">#查看当前用户的定时任务</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;* * * * * echo &#x27;test&#x27;&quot;</span> | crontab -</span><br><span class="line"><span class="comment">#crontab - 可以配合管道副将输出的内容添加进去</span></span><br><span class="line"></span><br><span class="line">* * * * * *执行命令 <span class="comment">#定时格式</span></span><br><span class="line">- - - - - - </span><br><span class="line">| | | | | +----指定的用户</span><br><span class="line">| | | | +---- 星期几 (0 - 7) (Sunday = 0 or 7)</span><br><span class="line">| | | +------ 月份 (1 - 12)</span><br><span class="line">| | +-------- 日期 (1 - 31)</span><br><span class="line">| +---------- 小时 (0 - 23)</span><br><span class="line">+------------ 分钟 (0 - 59)</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">crontab -l </span><br><span class="line"><span class="comment">#查看当前用户的定时任务</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;* * * * * echo &#x27;test&#x27;&quot;</span> | crontab -</span><br><span class="line"><span class="comment">#crontab - 可以配合管道副将输出的内容添加进去</span></span><br><span class="line"></span><br><span class="line">* * * * * *执行命令 <span class="comment">#定时格式</span></span><br><span class="line">- - - - - - </span><br><span class="line">| | | | | +----指定的用户</span><br><span class="line">| | | | +---- 星期几 (0 - 7) (Sunday = 0 or 7)</span><br><span class="line">| | | +------ 月份 (1 - 12)</span><br><span class="line">| | +-------- 日期 (1 - 31)</span><br><span class="line">| +---------- 小时 (0 - 23)</span><br><span class="line">+------------ 分钟 (0 - 59)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241130162706.jpg" alt="Pasted-image-20241130162706"></p>
<ul>
<li>编写脚本</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义函数</span></span><br><span class="line"><span class="function"><span class="title">ip4</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> da=$(<span class="built_in">date</span>)</span><br><span class="line">    <span class="built_in">local</span> ta=$(ip addr show eth0 | grep <span class="string">&quot;/24&quot;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | <span class="built_in">cut</span> -d<span class="string">&#x27;/&#x27;</span> -f1)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$da</span> 当前IP地址为：<span class="variable">$ta</span>&quot;</span> &gt;&gt; /tmp/ip.txt</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取脚本的绝对路径</span></span><br><span class="line">path=<span class="string">&quot;<span class="subst">$(realpath <span class="string">&quot;<span class="variable">$0</span>&quot;</span>)</span>&quot;</span></span><br><span class="line"><span class="keyword">time</span>=<span class="string">&quot;* 6 * * * <span class="variable">$USER</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查 crontab 中是否已经有该脚本的任务</span></span><br><span class="line"><span class="keyword">if</span> crontab -l 2&gt;/dev/null | grep -q <span class="string">&quot;<span class="variable">$path</span>&quot;</span>; <span class="keyword">then</span></span><br><span class="line">    ip4</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment"># 如果 crontab 中没有任务，添加任务</span></span><br><span class="line">    (crontab -l 2&gt;/dev/null; <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;time&#125;</span> <span class="variable">$&#123;path&#125;</span>&quot;</span>) | crontab -</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义函数</span></span><br><span class="line"><span class="function"><span class="title">ip4</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> da=$(<span class="built_in">date</span>)</span><br><span class="line">    <span class="built_in">local</span> ta=$(ip addr show eth0 | grep <span class="string">&quot;/24&quot;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | <span class="built_in">cut</span> -d<span class="string">&#x27;/&#x27;</span> -f1)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$da</span> 当前IP地址为：<span class="variable">$ta</span>&quot;</span> &gt;&gt; /tmp/ip.txt</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取脚本的绝对路径</span></span><br><span class="line">path=<span class="string">&quot;<span class="subst">$(realpath <span class="string">&quot;<span class="variable">$0</span>&quot;</span>)</span>&quot;</span></span><br><span class="line"><span class="keyword">time</span>=<span class="string">&quot;* 6 * * * <span class="variable">$USER</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查 crontab 中是否已经有该脚本的任务</span></span><br><span class="line"><span class="keyword">if</span> crontab -l 2&gt;/dev/null | grep -q <span class="string">&quot;<span class="variable">$path</span>&quot;</span>; <span class="keyword">then</span></span><br><span class="line">    ip4</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment"># 如果 crontab 中没有任务，添加任务</span></span><br><span class="line">    (crontab -l 2&gt;/dev/null; <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;time&#125;</span> <span class="variable">$&#123;path&#125;</span>&quot;</span>) | crontab -</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241205/Pasted-image-20241130211535.jpg" alt="Pasted-image-20241130211535"></p>
<h3 id="无线重启脚本"><a href="#无线重启脚本" class="headerlink" title="无线重启脚本"></a>无线重启脚本</h3><ul>
<li>知道前面计划任务，尝试编写一个开机就启动的计划任务(暂不知道什么问题，无法实现)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># 获取当前脚本的绝对路径</span></span><br><span class="line"></span><br><span class="line">path=<span class="string">&quot;<span class="subst">$(realpath <span class="string">&quot;<span class="variable">$0</span>&quot;</span>)</span>&quot;</span></span><br><span class="line"><span class="comment"># 定义 @reboot 时间格式</span></span><br><span class="line"><span class="keyword">time</span>=<span class="string">&quot;@reboot <span class="variable">$USER</span> &quot;</span></span><br><span class="line"><span class="comment"># 检查 crontab 中是否已经有该脚本的任务</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> crontab -l 2&gt;/dev/null | grep -q <span class="string">&quot;<span class="variable">$path</span>&quot;</span>; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">sleep</span> 3</span><br><span class="line">    shutdown -r now   <span class="comment"># 如果任务已存在，重新启动系统</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment"># 如果任务不存在，添加定时任务到 crontab</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;time&#125;</span><span class="variable">$&#123;path&#125;</span>&quot;</span> | crontab -</span><br><span class="line">    <span class="built_in">sleep</span> 3</span><br><span class="line">    shutdown -r now</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="comment"># 获取当前脚本的绝对路径</span></span><br><span class="line"></span><br><span class="line">path=<span class="string">&quot;<span class="subst">$(realpath <span class="string">&quot;<span class="variable">$0</span>&quot;</span>)</span>&quot;</span></span><br><span class="line"><span class="comment"># 定义 @reboot 时间格式</span></span><br><span class="line"><span class="keyword">time</span>=<span class="string">&quot;@reboot <span class="variable">$USER</span> &quot;</span></span><br><span class="line"><span class="comment"># 检查 crontab 中是否已经有该脚本的任务</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> crontab -l 2&gt;/dev/null | grep -q <span class="string">&quot;<span class="variable">$path</span>&quot;</span>; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">sleep</span> 3</span><br><span class="line">    shutdown -r now   <span class="comment"># 如果任务已存在，重新启动系统</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment"># 如果任务不存在，添加定时任务到 crontab</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;time&#125;</span><span class="variable">$&#123;path&#125;</span>&quot;</span> | crontab -</span><br><span class="line">    <span class="built_in">sleep</span> 3</span><br><span class="line">    shutdown -r now</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>利用<code>systemd</code>实现开机执行脚本重启</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=reboot</span><br><span class="line">After=multi-user.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">ExecStart=<span class="variable">$SH_PATH</span></span><br><span class="line">Restart=always</span><br><span class="line">User=root</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line">```bash</span><br><span class="line">[Unit]</span><br><span class="line">Description=reboot</span><br><span class="line">After=multi-user.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">ExecStart=<span class="variable">$SH_PATH</span></span><br><span class="line">Restart=always</span><br><span class="line">User=root</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>[Unit]</strong> 部分定义了服务的描述和它的启动顺序。</p>
<ul>
<li><code>Description</code> 是对服务的简短描述。</li>
<li><code>multi-user.target</code> 系统启动并进入多用户模式后</li>
</ul>
</li>
<li><p><strong>[Service]</strong> 部分定义了服务的运行方式。</p>
<ul>
<li><code>ExecStart</code> 指定了启动脚本的命令。</li>
<li><code>Restart=always</code> 表示如果脚本崩溃，会自动重新启动。</li>
<li><code>User=root</code> 指定以哪个用户身份运行脚本。</li>
</ul>
</li>
<li><p><strong>[Install]</strong> 部分定义了在何时启用该服务。</p>
<ul>
<li><code>WantedBy=multi-user.target</code> 表示该服务将在系统进入多用户模式时启动，通常这是默认的运行级别。</li>
</ul>
</li>
<li><p>最终编写脚本</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义函数</span></span><br><span class="line"><span class="function"><span class="title">rb</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;[Unit]\nDescription=reboot\nAfter=multi-user.target\n\n[Service]\nExecStart=<span class="variable">$SH_PATH</span>\nRestart=always\nUser=root\n\n[Install]\nWantedBy=multi-user.target&quot;</span> &gt; <span class="string">&quot;/etc/systemd/system/reboot.service&quot;</span></span><br><span class="line">    systemctl daemon-reload</span><br><span class="line">    systemctl <span class="built_in">enable</span> reboot</span><br><span class="line">    systemctl start reboot</span><br><span class="line">    reboot </span><br><span class="line">&#125;</span><br><span class="line">ID_PATH=<span class="string">&quot;/etc/systemd/system/reboot.service&quot;</span></span><br><span class="line">SH_PATH=<span class="string">&quot;<span class="subst">$(realpath <span class="string">&quot;<span class="variable">$0</span>&quot;</span>)</span>&quot;</span></span><br><span class="line"><span class="keyword">if</span> [ -f <span class="variable">$ID_PATH</span> ]; <span class="keyword">then</span></span><br><span class="line">    reboot</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    rb</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">```bash</span><br><span class="line"><span class="comment">#!/bin/bash </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义函数</span></span><br><span class="line"><span class="function"><span class="title">rb</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;[Unit]\nDescription=reboot\nAfter=multi-user.target\n\n[Service]\nExecStart=<span class="variable">$SH_PATH</span>\nRestart=always\nUser=root\n\n[Install]\nWantedBy=multi-user.target&quot;</span> &gt; <span class="string">&quot;/etc/systemd/system/reboot.service&quot;</span></span><br><span class="line">    systemctl daemon-reload</span><br><span class="line">    systemctl <span class="built_in">enable</span> reboot</span><br><span class="line">    systemctl start reboot</span><br><span class="line">    reboot </span><br><span class="line">&#125;</span><br><span class="line">ID_PATH=<span class="string">&quot;/etc/systemd/system/reboot.service&quot;</span></span><br><span class="line">SH_PATH=<span class="string">&quot;<span class="subst">$(realpath <span class="string">&quot;<span class="variable">$0</span>&quot;</span>)</span>&quot;</span></span><br><span class="line"><span class="keyword">if</span> [ -f <span class="variable">$ID_PATH</span> ]; <span class="keyword">then</span></span><br><span class="line">    reboot</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    rb</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241220/PixPin_2024-12-08_17-01-26.gif" alt="PixPin_2024-12-08_17-01-26"></p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/ico/Avatar.png" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/ico/Avatar.png" title="头像" alt="头像"></a><div class="post-copyright__author_name">XenoEcho</div><div class="post-copyright__author_desc">XenoEcho's Blog</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://www.xenoecho.us.kg/posts/a6d155fc">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://www.xenoecho.us.kg/posts/a6d155fc')">Shell脚本基础</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://www.xenoecho.us.kg/posts/a6d155fc"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=Shell脚本基础&amp;url=https://www.xenoecho.us.kg/posts/a6d155fc&amp;pic=https://imges.xenon.us.kg/20241211/shell.jpg" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.xenoecho.us.kg" target="_blank">XenoEcho</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/Linux/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Linux<span class="tagsPageCount">3</span></a><a class="post-meta__box__tags" href="/tags/Shell/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Shell<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://imges.xenon.us.kg/20250131/deepseek.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/posts/14692180" title="Kali Liunx 基本配置"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20241211/kali.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-12-08</div><div class="title">Kali Liunx 基本配置</div></div></a></div><div><a href="/posts/5b7c57ab" title="Sudo命令的配置及使用"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imges.xenon.us.kg/20250120/sudo.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-01-20</div><div class="title">Sudo命令的配置及使用</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)" style="display: none">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E8%A7%A3%E9%87%8A%E5%99%A8%E4%B8%8E%E5%8F%98%E9%87%8F"><span class="toc-text">脚本解释器与变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6%E7%B1%BB%E4%BC%BC"><span class="toc-text">脚本文件类似</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-text">变量的概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-text">引号的概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E5%BC%95%E5%8F%B7"><span class="toc-text">单引号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E5%BC%95%E5%8F%B7"><span class="toc-text">双引号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8A%B1%E6%8B%AC%E5%8F%B7"><span class="toc-text">花括号</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E8%A7%A3%E9%87%8A%E5%99%A8"><span class="toc-text">脚本解释器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">系统变量和字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8Fpath"><span class="toc-text">系统变量path</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-text">字符串的概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-text">字符串的定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-text">字符串的操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E5%8F%82%E5%92%8C%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97"><span class="toc-text">传参和数值运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E5%8F%82%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">传参的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="toc-text">位置参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E5%8F%82%E6%B5%8B%E8%AF%95"><span class="toc-text">传参测试</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97"><span class="toc-text">数值运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97"><span class="toc-text">变量的算数运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97"><span class="toc-text">扩展运算</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%B8%8E%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">用户交互与关系运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92"><span class="toc-text">用户交互</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BA%A4%E4%BA%92"><span class="toc-text">基本交互</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%90%E7%A4%BA%E4%BA%A4%E4%BA%92"><span class="toc-text">提示交互</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#read%E5%85%A8%E9%83%A8%E5%8F%82%E6%95%B0"><span class="toc-text">read全部参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8F%9C%E5%8D%95%E4%BA%A4%E4%BA%92"><span class="toc-text">菜单交互</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97"><span class="toc-text">关系逻辑运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">关系运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#if%E6%9D%A1%E4%BB%B6%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-text">if条件控制语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B"><span class="toc-text">实例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8E%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">字符运算符与逻辑运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%9A"><span class="toc-text">字符运算符：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-1"><span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">逻辑运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-2"><span class="toc-text">实例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF%E4%B8%8Ewhile%E5%BE%AA%E7%8E%AF"><span class="toc-text">for循环与while循环</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF"><span class="toc-text">for循环</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E5%9B%BA%E5%AE%9A%E5%85%83%E7%B4%A0%E5%88%97%E8%A1%A8"><span class="toc-text">遍历固定元素列表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E6%95%B0%E5%AD%97%E8%8C%83%E5%9B%B4"><span class="toc-text">遍历数字范围</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E5%91%BD%E4%BB%A4"><span class="toc-text">遍历命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E5%90%88%E7%B1%BB%E4%BC%BCC%E9%A3%8E%E6%A0%BC"><span class="toc-text">(())配合类似C风格</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E8%AF%AD%E6%B3%95"><span class="toc-text">简单语法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-3"><span class="toc-text">实例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#while%E5%BE%AA%E7%8E%AF"><span class="toc-text">while循环</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-text">基础语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E8%BE%93%E5%87%BA%E6%95%B0%E5%AD%97"><span class="toc-text">循环输出数字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%88%E6%AD%A2%E8%AF%AD%E5%8F%A5%E9%85%8D%E5%90%88%E4%BD%BF%E7%94%A8"><span class="toc-text">终止语句配合使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E5%90%88-%E7%AE%A1%E9%81%93%E7%AC%A6%E4%BD%BF%E7%94%A8"><span class="toc-text">配合|管道符使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#until%E5%BE%AA%E7%8E%AF%E4%B8%8Ecase%E5%88%A4%E6%96%AD"><span class="toc-text">until循环与case判断</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#until%E5%BE%AA%E7%8E%AF"><span class="toc-text">until循环</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-1"><span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E7%B4%AF%E5%8A%A0"><span class="toc-text">数值累加</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#case%E5%88%A4%E6%96%AD"><span class="toc-text">case判断</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-2"><span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E8%BE%93%E5%85%A5%E6%89%A7%E8%A1%8C%E7%9B%B8%E5%BA%94%E6%93%8D%E4%BD%9C"><span class="toc-text">根据输入执行相应操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E5%87%BD%E6%95%B0%E4%B8%8E%E8%84%9A%E6%9C%AC%E8%B0%83%E7%94%A8%E4%B8%8E%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-text">封装函数与脚本调用与重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E5%87%BD%E6%95%B0"><span class="toc-text">封装函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-3"><span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-4"><span class="toc-text">实例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E8%B0%83%E7%94%A8"><span class="toc-text">脚本调用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91%E6%93%8D%E4%BD%9C"><span class="toc-text">重定向操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-text">重定向操作符</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">文件运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%96%87%E4%BB%B6%E5%AD%98%E5%9C%A8%E6%80%A7%E5%92%8C%E7%B1%BB%E5%9E%8B%E6%B5%8B%E8%AF%95%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">1. 文件存在性和类型测试运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%96%87%E4%BB%B6%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">2. 文件比较运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%BC%E5%90%88%E5%AE%9E%E4%BE%8B"><span class="toc-text">综合实例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%9A%84%E8%BF%90%E7%AE%97"><span class="toc-text">简单的运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B6%E4%B9%98%E8%BF%90%E7%AE%97"><span class="toc-text">阶乘运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%8C%87%E5%AE%9A%E7%BD%91%E7%BB%9C%E7%9A%84IPv4%E5%9C%B0%E5%9D%80"><span class="toc-text">获取指定网络的IPv4地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E7%BA%BF%E9%87%8D%E5%90%AF%E8%84%9A%E6%9C%AC"><span class="toc-text">无线重启脚本</span></a></li></ol></li></ol></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">18</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">6</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">博客</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://pan.quark.cn/s/b15d46941933" title="文章工具"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/ico/favicon.ico" alt="文章工具"/><span class="back-menu-item-text">文章工具</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://xenoecho.us.kg" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/ico/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-box-archive"></use></svg><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shapes"></use></svg><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-tags"></use></svg><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-link"></use></svg><span> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-music"></use></svg><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/books/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-book"></use></svg><span> 图书馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/movies/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-pay-movies"></use></svg><span> 电影院</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/essay/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-lightbulb"></use></svg><span> 胡思乱想</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shoe-prints"></use></svg><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Burp-Suite/" style="font-size: 0.88rem;">Burp Suite<sup>2</sup></a><a href="/tags/HTTP/" style="font-size: 0.88rem;">HTTP<sup>1</sup></a><a href="/tags/Kali/" style="font-size: 0.88rem;">Kali<sup>4</sup></a><a href="/tags/Kali-tools/" style="font-size: 0.88rem;">Kali tools<sup>3</sup></a><a href="/tags/Linux/" style="font-size: 0.88rem;">Linux<sup>3</sup></a><a href="/tags/Shell/" style="font-size: 0.88rem;">Shell<sup>1</sup></a><a href="/tags/Sql%E6%B3%A8%E5%85%A5/" style="font-size: 0.88rem;">Sql注入<sup>1</sup></a><a href="/tags/vuInhub/" style="font-size: 0.88rem;">vuInhub<sup>4</sup></a><a href="/tags/webshell/" style="font-size: 0.88rem;">webshell<sup>1</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 0.88rem;">博客<sup>1</sup></a><a href="/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/" style="font-size: 0.88rem;">大模型<sup>1</sup></a><a href="/tags/%E7%BF%BB%E8%AF%91/" style="font-size: 0.88rem;">翻译<sup>1</sup></a></div></div><hr/></div></div><div id="keyboard-tips"><div class="keyboardTitle">博客快捷键</div><div class="keybordList"><div class="keybordItem"><div class="keyGroup"><div class="key">shift K</div></div><div class="keyContent"><div class="content">关闭快捷键功能</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift A</div></div><div class="keyContent"><div class="content">打开/关闭中控台</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift M</div></div><div class="keyContent"><div class="content">播放/暂停音乐</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift D</div></div><div class="keyContent"><div class="content">深色/浅色显示模式</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift S</div></div><div class="keyContent"><div class="content">站内搜索</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift R</div></div><div class="keyContent"><div class="content">随机访问</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift H</div></div><div class="keyContent"><div class="content">返回首页</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift F</div></div><div class="keyContent"><div class="content">友链鱼塘</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift L</div></div><div class="keyContent"><div class="content">友链页面</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift P</div></div><div class="keyContent"><div class="content">关于本站</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift I</div></div><div class="keyContent"><div class="content">原版/本站右键菜单</div></div></div></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8598611923" server="tencent" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>必应搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;/music/&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.cbd.int/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script>var meting_api = "https://meting.qjqq.cn/?server=:server&type=:type&id=:id&auth=:auth&r=:r";
</script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script async src="/anzhiyu/random.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  let initFn = window.walineFn || null

  const initWaline = (Fn) => {
    const waline = Fn(Object.assign({
      el: '#waline-wrap',
      serverURL: 'https://waline.xenoecho.us.kg/',
      pageview: true,
      dark: 'html[data-theme="dark"]',
      path: window.location.pathname,
      comment: true,
      imageUploader: true,
    }, null))

    const destroyWaline = () => {
      waline.destroy()
    }

    anzhiyu.addGlobalFn('pjax', destroyWaline, 'destroyWaline')
  }

  const loadWaline = async () => {
    if (initFn) initWaline(initFn)
    else {
      await getCSS('https://cdn.cbd.int/@waline/client@3.1.3/dist/waline.css')
      if (true) await getCSS('https://cdn.cbd.int/@waline/client@3.1.3/dist/waline-meta.css')
      const { init } = await import('https://cdn.cbd.int/@waline/client@3.1.3/dist/waline.js')
      initFn = init || Waline.init
      initWaline(initFn)
      window.walineFn = initFn
    }
  }

  if ('Waline' === 'Waline' || !false) {
    if (false) anzhiyu.loadComment(document.getElementById('waline-wrap'),loadWaline)
    else setTimeout(loadWaline, 0)
  } else {
    window.loadOtherComment = loadWaline
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener('load', () => {
  const changeContent = content => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = async () => {
    try {
      const res = await fetch('https://waline.xenoecho.us.kg/api/comment?type=recent&count=6', { method: 'GET' })
      const result = await res.json()
      const walineArray = result.data.map(e => {
        return {
          'content': changeContent(e.comment),
          'avatar': e.avatar,
          'nick': e.nick,
          'url': e.url + '#' + e.objectId,
          'date': e.time || e.insertedAt
        }
      })
      saveToLocal.set('waline-newest-comments', JSON.stringify(walineArray), 10/(60*24))
      generateHtml(walineArray)
    } catch (err) {
      console.error(err)
      const $dom = document.querySelector('#card-newest-comments .aside-list')
      $dom.textContent= "无法获取评论，请确认相关配置是否正确"
    }
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('waline-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script async src="https://at.alicdn.com/t/c/font_4773714_xy6q4g0wxsg.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/"]):not([href="b"]):not([href="o"]):not([href="o"]):not([href="k"]):not([href="s"]):not([href="/"]):not([href=" "]):not([href="/"]):not([href="l"]):not([href="i"]):not([href="n"]):not([href="k"]):not([href="/"]):not([href=" "]):not([href="/"]):not([href="m"]):not([href="o"]):not([href="v"]):not([href="i"]):not([href="e"]):not([href="s"]):not([href="/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>